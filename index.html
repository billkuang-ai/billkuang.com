<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Favicon for browser tabs -->
    <link rel="icon" type="image/jpeg" href="https://raw.githubusercontent.com/billkuang-ai/billkuang.com/main/avatar.jpg">
    <link rel="shortcut icon" type="image/jpeg" href="https://raw.githubusercontent.com/billkuang-ai/billkuang.com/main/avatar.jpg">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/billkuang-ai/billkuang.com/main/avatar.jpg">

    <!-- Open Graph meta tags for link previews (Facebook, iMessage, WhatsApp, etc.) -->
    <meta property="og:image" content="https://raw.githubusercontent.com/billkuang-ai/billkuang.com/main/avatar.jpg">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:image:width" content="1080">
    <meta property="og:image:height" content="1080">
    <meta property="og:image:alt" content="Mr. Kuang's Classroom - Music Appreciation">
    <meta property="og:title" content="Music Appreciation - Piano Time Machine">
    <meta property="og:description" content="Explore classic songs from the 1960s with interactive musical lessons">
    <meta property="og:site_name" content="Mr. Kuang's Classroom">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.billkuang.com">

    <!-- Twitter Card meta tags for Twitter link previews -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/billkuang-ai/billkuang.com/main/avatar.jpg">
    <meta name="twitter:title" content="Music Appreciation - Piano Time Machine">
    <meta name="twitter:description" content="Explore classic songs from the 1960s with interactive musical lessons">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MR. KUANG'S CLASSROOM</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Body with brick background theme */
        body {
            font-family: 'Press Start 2P', monospace;
            background: linear-gradient(180deg, #c84c0c 0%, #a84410 100%);
            color: #fff;
            line-height: 2;
            padding: 0;
            image-rendering: pixelated;
            position: relative;
            overflow-x: hidden;
        }

        /* Brick pattern texture for body background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                linear-gradient(to right, transparent 48%, rgba(0,0,0,0.3) 48%, rgba(0,0,0,0.3) 52%, transparent 52%),
                linear-gradient(to bottom, transparent 48%, rgba(0,0,0,0.3) 48%, rgba(0,0,0,0.3) 52%, transparent 52%),
                linear-gradient(135deg, rgba(255,140,0,0.3) 0%, transparent 50%),
                linear-gradient(to bottom, rgba(220,100,20,0.4) 0%, rgba(150,70,15,0.4) 100%);
            background-size: 100% 100%, 100% 100%, 30px 30px, 100% 100%;
            background-position: center, center, 0 0, center;
            pointer-events: none;
            opacity: 0.5;
            z-index: 0;
        }

        /* Header with blue sky theme */
        header {
            background: linear-gradient(180deg, #5c94fc 0%, #89b5ff 100%);
            padding: 20px;
            text-align: center;
            border-bottom: 4px solid #000;
            position: relative;
            z-index: 10;
        }

        header h1 {
            font-size: 1.4em;
            color: #fff;
            text-shadow: 3px 3px 0 #2c5aa0;
            letter-spacing: 2px;
            position: relative;
            z-index: 2;
        }

        /* Navigation at top */
        nav {
            background: transparent;
            padding: 20px 15px;
            position: relative;
            z-index: 10;
        }

        .nav-buttons {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .nav-btn {
            background: #f8a848;
            border: 4px solid #000;
            border-radius: 12px;
            padding: 15px 8px;
            color: #fff;
            text-decoration: none;
            text-align: center;
            cursor: pointer;
            font-family: 'Press Start 2P', monospace;
            position: relative;
            transition: all 0.1s;
            text-shadow: 2px 2px 0 #000;
            box-shadow: 0 6px 0 #d85800, inset 0 -4px 0 rgba(255,255,255,0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100px;
        }

        .nav-btn:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 #d85800, inset 0 -4px 0 rgba(255,255,255,0.3);
        }

        .nav-btn.active {
            background: #ffd700;
            box-shadow: 0 6px 0 #cc9900, inset 0 -4px 0 rgba(255,255,255,0.5);
        }

        .btn-text {
            font-size: 0.9em;
            margin-bottom: 8px;
            word-wrap: break-word;
            line-height: 1.3;
            display: block;
        }

        .btn-icon {
            font-size: 1.5em;
            color: #ffd700;
            display: block;
        }

        /* Main content frame area */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px 40px 15px;
            position: relative;
            z-index: 10;
        }

        /* Frame container - Green Pipe Theme */
        .frame-container {
            background: linear-gradient(90deg, #00a800 0%, #00d800 50%, #00a800 100%);
            margin: 0 0 20px 0;
            padding: 15px;
            border: 8px solid #005800;
            border-radius: 20px;
            position: relative;
            box-shadow: 0 6px 0 #003800, inset 0 0 0 8px #00f800;
            min-height: 400px;
        }

        .frame-content {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border: 4px solid #000;
            border-radius: 12px;
            text-align: center;
            position: relative;
            z-index: 2;
            min-height: 600px;
        }

        .frame-content h2 {
            color: #fff;
            font-size: 1.2em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 0 #005800;
        }

        .frame-content h3 {
            color: #ffd700;
            font-size: 1em;
            margin: 25px 0 15px 0;
            text-shadow: 2px 2px 0 #005800;
            text-align: left;
        }

        .frame-content p {
            color: #fff;
            font-size: 0.85em;
            line-height: 2;
            text-shadow: 1px 1px 0 #005800;
        }

        .frame-content ul {
            list-style: none;
            padding: 0;
            margin: 0;
            text-align: left;
        }

        .tiles-list li {
            color: #fff;
            font-size: 0.8em;
            line-height: 2;
            margin: 8px 0;
            text-shadow: 1px 1px 0 #005800;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tiles-list li::before {
            content: '⭐';
            font-size: 0.9em;
            flex-shrink: 0;
        }

        .frame-content a {
            color: #ffd700;
            text-decoration: none;
            border-bottom: 2px solid #ffd700;
            transition: all 0.2s;
        }

        .frame-content a:hover {
            color: #fff;
            border-bottom-color: #fff;
        }

        .frame-content iframe {
            width: 100%;
            height: 100%;
            min-height: 600px;
            border: none;
            background: #fff;
            border-radius: 8px;
        }

        /* Hide all frames by default */
        .frame-container {
            display: none;
        }

        /* Show active frame */
        .frame-container.active {
            display: block;
        }

        /* Footer with mushroom theme */
        footer {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(180deg, #ff8c00 0%, #ff6600 100%);
            border-top: 4px solid #000;
            margin-top: 0;
            font-size: 0.8em;
            letter-spacing: 1px;
            position: relative;
            z-index: 10;
            box-shadow: inset 0 -4px 0 rgba(255,255,255,0.2);
        }

        /* Red spots pattern on mushroom footer */
        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle, #d32f2f 12%, transparent 12%),
                radial-gradient(circle, #d32f2f 12%, transparent 12%),
                radial-gradient(circle, #d32f2f 12%, transparent 12%),
                radial-gradient(circle, #d32f2f 12%, transparent 12%);
            background-size: 80px 80px, 80px 80px, 80px 80px, 80px 80px;
            background-position: 10px 10px, 60px 30px, 25px 50px, 70px 60px;
            opacity: 0.5;
            pointer-events: none;
        }

        footer p {
            margin: 10px 0;
            color: #fff;
            text-shadow: 2px 2px 0 #cc5200;
            position: relative;
            z-index: 2;
        }

        .coin-score {
            font-size: 1.2em;
            animation: bounce 0.5s ease-in-out infinite alternate;
        }

        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-5px); }
        }

        @media (min-width: 768px) {
            header h1 { font-size: 1.8em; }
            .nav-btn { 
                padding: 20px 10px;
                min-height: 120px;
            }
            .btn-text { font-size: 1.1em; }
            .btn-icon { font-size: 1.8em; }
            .frame-content { min-height: 700px; }
            .frame-content iframe { min-height: 700px; }
            .frame-content h2 { font-size: 1.5em; }
            .frame-content h3 { font-size: 1.1em; }
            .frame-content p { font-size: 0.9em; }
            .frame-content li { font-size: 0.85em; }
            footer { font-size: 0.9em; }
        }

        @media (max-width: 767px) {
            .nav-buttons { 
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
            }
            .nav-btn { 
                padding: 12px 6px;
                min-height: 90px;
            }
            .btn-text { font-size: 0.7em; }
            .btn-icon { font-size: 1.3em; }
            .frame-container { margin: 0 10px 20px 10px; padding: 10px; }
            .frame-content { padding: 10px; min-height: 500px; }
            .frame-content iframe { min-height: 500px; }
            .frame-content h3 { font-size: 0.85em; }
            .frame-content li { font-size: 0.7em; }
        }

        @media (max-width: 480px) {
            header h1 { font-size: 1.1em; }
            .nav-buttons { 
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
            .nav-btn { 
                padding: 10px 5px;
                min-height: 80px;
            }
            .btn-text { font-size: 0.6em; }
            .btn-icon { font-size: 1.2em; }
            .frame-content { min-height: 450px; }
            .frame-content iframe { min-height: 450px; }
            .frame-content h2 { font-size: 1em; }
            .frame-content h3 { font-size: 0.75em; }
            .frame-content p { font-size: 0.7em; }
            .frame-content li { font-size: 0.65em; }
        }
    
        /* Override min-height for embedded podcast/video iframes */
        .embed-wrapper iframe {
            min-height: 0 !important;
            height: 100%;
        }

        /* Disable pointer events on decorative black keys so clicks pass through to white keys */
        .black-key.black-2,
        .black-key.black-3,
        .black-key.black-4,
        .black-key.black-5,
        .black-key.black-6 {
            pointer-events: none;
        }

    
        /* ============================================== */
        /* PORTRAIT MOBILE ONLY - Optimized             */
        /* ============================================== */
        @media (max-width: 480px) and (orientation: portrait) {

            /* HEADER - Minimal space, vertically centered */
            header {
                padding: 8px 10px !important;
                min-height: unset !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
            }

            header h1 {
                font-size: 0.85em !important;
                visibility: hidden;
                position: relative;
                margin: 0 !important;
                padding: 0 !important;
                line-height: 1.3 !important;
                height: 1.3em;
            }

            header h1::after {
                content: "☁️ MR. KUANG ☁️";
                visibility: visible;
                position: absolute;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
                white-space: nowrap;
            }

            /* NAV BAR */
            nav {
                padding: 8px 5px !important;
                background: #f8a848 !important;
                border-bottom: 4px solid #000;
            }

            .nav-buttons { 
                display: flex !important;
                flex-direction: row !important;
                justify-content: space-evenly !important;
                gap: 6px !important;
                grid-template-columns: unset !important;
            }

            .nav-btn { 
                background: none !important;
                border: 2px solid #ffd700 !important;
                box-shadow: none !important;
                padding: 4px !important;
                min-height: unset !important;
                flex: 1;
                display: flex !important;
                flex-direction: column !important;
                align-items: center !important;
                border-radius: 8px !important;
                box-sizing: border-box !important;
            }

            .nav-btn.active {
                background: rgba(255,255,255,0.3) !important;
            }

            .btn-text { 
                font-size: 0.4em !important;
                color: #fff !important;
                text-shadow: 2px 2px 0 #000 !important;
                white-space: nowrap;
            }

            .btn-icon { 
                font-size: 1.2em !important;
                color: #ffd700 !important;
                text-shadow: 1px 1px 0 #000 !important;
            }

            /* FRAME CONTAINER - Optimize for calendar width */
            main {
                padding: 0 5px 40px 5px !important;
            }

            .frame-container {
                margin: 0 !important;
                padding: 6px !important;
                border-width: 5px !important;
                border-color: #ffd700 !important;
            }

            .frame-content {
                padding: 6px !important;
                border-width: 2px !important;
                border-color: #ffd700 !important;
            }

            .frame-container {
                margin: 0 !important;
                padding: 6px !important;
                border-width: 5px !important;
            }

            .frame-content {
                padding: 6px !important;
                border-width: 2px !important;
            }

            .frame-content iframe {
                width: 100% !important;
                border-radius: 4px !important;
            }

            /* PIANO */
            .piano { 
                --wk-width: 28px !important; 
                padding: 12px 10px 22px 10px !important;
                max-width: 95vw;
            }

            .white-key { 
                width: 28px !important;
                height: 120px !important;
            }

            .black-key { 
                width: 20px !important;
                height: 72px !important; 
                top: 12px !important;
            }

            .black-key.black-1 { left: calc(10px + (30px * 1) - 10px) !important; }
            .black-key.black-2 { left: calc(10px + (30px * 2) - 10px) !important; }
            .black-key.black-3 { left: calc(10px + (30px * 4) - 10px) !important; }
            .black-key.black-4 { left: calc(10px + (30px * 5) - 10px) !important; }
            .black-key.black-5 { left: calc(10px + (30px * 6) - 10px) !important; }
            .black-key.black-6 { left: calc(10px + (30px * 8) - 10px) !important; }
            .black-key.black-7 { left: calc(10px + (30px * 9) - 10px) !important; }

            .piano-title { font-size: 5px !important; }
            .black-text { font-size: 6px !important; }

            /* TIMELINE */
            .timeline-centerline { display: none !important; }
            .timeline-year { 
                height: auto !important; 
                min-height: 0 !important;
                display: block !important;
                margin: 0 !important;
                padding: 0 !important;
            }
            .year-badge { 
                font-size: 18px !important;
                padding: 0 !important;
                margin: 8px auto !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                width: 90% !important;
                max-width: 500px !important;
                height: 90px !important;
                background: #ffd700 !important;
                color: #000 !important;
                border: 3px solid #000 !important;
                border-radius: 12px !important;
                text-shadow: none !important;
                box-shadow: 0 4px 8px rgba(0,0,0,0.3) !important;
            }
            .year-content {
                display: block !important;
                width: 100% !important;
                padding: 0 !important;
                margin: 0 !important;
            }
            .portrait-timeline-item {
                width: 90% !important;
                max-width: 500px !important;
                margin: 8px auto !important;
            }
            .portrait-timeline-item.song {
                background: rgba(0,0,0,0.9);
                border: 3px solid #ffd700;
                border-radius: 12px;
                padding: 10px 14px;
                height: 90px !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                overflow: hidden !important;
            }
            .portrait-timeline-item.song a {
                display: flex !important;
                flex-direction: column !important;
                justify-content: center !important;
                width: 100% !important;
                height: 100% !important;
                text-decoration: none !important;
            }
            .portrait-timeline-item .song-title {
                display: -webkit-box !important;
                -webkit-line-clamp: 2 !important;
                -webkit-box-orient: vertical !important;
                overflow: hidden !important;
                font-size: 15px !important;
                line-height: 1.3 !important;
                margin-bottom: 4px !important;
                color: #fff !important;
            }
            .portrait-timeline-item .artist-name {
                display: block !important;
                font-size: 13px !important;
                white-space: nowrap !important;
                overflow: hidden !important;
                text-overflow: ellipsis !important;
                color: #ffd700 !important;
            }

            .portrait-timeline-item .song-title {
                display: block;
                margin-bottom: 4px;
            }

            .portrait-timeline-item .artist-name {
                display: block;
                font-size: 0.9em;
            }

            .portrait-timeline-item.video {
                border-radius: 8px;
                overflow: hidden;
            }

            .portrait-timeline-item iframe {
                width: 100% !important;
                height: 200px !important;
                display: block;
            }

            /* 
    /* ========================================
       FIX: Safari iOS Button Sizing in Portrait
       Prevent auto-scaling of radio/info buttons
       ======================================== */
    .portrait-timeline-item .radio-btn,
    .portrait-timeline-item .info-btn {
        width: 28px !important;       /* 28px fixed size */
        height: 28px !important;      /* 28px fixed size */
        min-width: 28px !important;   /* Lock size */
        min-height: 28px !important;  /* Lock size */
        max-width: 28px !important;   /* Lock size */
        max-height: 28px !important;  /* Lock size */
        font-size: 14px !important;
        padding: 0 !important;
        border-radius: 50% !important;
        -webkit-appearance: none !important; /* Stop iOS resizing */
        appearance: none !important;
        flex-shrink: 0 !important;
        flex-grow: 0 !important;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3) !important;
        position: absolute !important;
        z-index: 10 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }

    .portrait-timeline-item .radio-btn {
        left: 6px !important;
        bottom: 6px !important;
    }

    .portrait-timeline-item .info-btn {
        right: 6px !important;
        bottom: 6px !important;
    }

    HIDE ALL VIDEOS IN MOBILE PORTRAIT */
            .video-pyramid,
            .video-grid-2x2,
            .video-row,
            .video-embed,
            .video-single,
            iframe.video-embed,
            .content-left iframe,
            .content-right iframe,
            .portrait-timeline-item.video,
            .portrait-timeline-item iframe {
                display: none !important;
            }
        }
    
        /* Mobile Landscape ONLY - Optimized for iPhone SE */
        @media (orientation: landscape) and (max-height: 500px) {
            /* Force navigation to stay in 1 row on ALL landscape devices */
            nav {
                padding: 10px 6px !important;
            }

            .nav-buttons { 
                display: flex !important;
                flex-direction: row !important;
                flex-wrap: nowrap !important;
                gap: 4px !important;
                width: 100% !important;
                max-width: 100% !important;
                grid-template-columns: unset !important;
            }

            .nav-btn { 
                flex: 1 1 0 !important;
                min-width: 0 !important;
                padding: 6px 2px !important;
                min-height: 50px !important;
                border: 2px solid #000 !important;
                border-radius: 8px !important;
                box-shadow: 0 3px 0 #d85800, inset 0 -2px 0 rgba(255,255,255,0.3) !important;
                overflow: hidden !important;
            }

            .nav-btn.active {
                box-shadow: 0 3px 0 #cc9900, inset 0 -2px 0 rgba(255,255,255,0.5) !important;
            }

            .nav-btn:active {
                transform: translateY(2px) !important;
                box-shadow: 0 1px 0 #d85800, inset 0 -2px 0 rgba(255,255,255,0.3) !important;
            }

            .btn-text { 
                font-size: 0.42em !important;
                margin-bottom: 2px !important;
                line-height: 1.05 !important;
                white-space: nowrap !important;
                overflow: hidden !important;
                text-overflow: ellipsis !important;
            }

            .btn-icon { 
                font-size: 0.85em !important;
            }

            
            /* FOOTER - Normalize font sizes */
            .coin-score {
                font-size: 1em !important;
            }

            /* HIDE ALL VIDEOS IN MOBILE LANDSCAPE */
            .video-pyramid,
            .video-grid-2x2,
            .video-row,
            .video-embed,
            .video-single,
            iframe.video-embed,
            .content-left iframe,
            .content-right iframe,
            .year-content iframe,
            .timeline-year iframe {
                display: none !important;
            }
        }

    
@media (max-width: 950px) and (orientation: landscape) {
    .timeline-centerline { display: none !important; }
    .timeline-year {
        height: auto !important;
        min-height: 0 !important;
        display: block !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    .year-badge {
        display: block !important;
        text-align: center !important;
        margin: 10px auto !important;
        position: relative !important;
        transform: none !important;
        font-size: 18px !important;
        padding: 10px 20px !important;
        background: #ffd700 !important;
        color: #000 !important;
        border: 3px solid #000 !important;
        text-shadow: none !important;
        border-radius: 12px !important;
    }
    .year-content {
        display: block !important;
        width: 100% !important;
        padding: 0 20px !important;
        margin: 0 !important;
    }
    .portrait-timeline-item {
        display: block !important;
        width: 100% !important;
        max-width: 500px !important;
        margin: 10px auto !important;
    }
    .portrait-timeline-item.song {
        background: rgba(0,0,0,0.9);
        border: 3px solid #ffd700;
        border-radius: 12px;
        padding: 12px 16px;
        min-height: 60px;
    }
    .portrait-timeline-item.song a {
        font-size: 0.7em !important;
        line-height: 1.6 !important;
        color: #fff;
        text-decoration: none;
    }
    .portrait-timeline-item .song-title {
        display: block;
        margin-bottom: 6px;
        color: #fff;
    }
    .portrait-timeline-item .artist-name {
        display: block;
        font-size: 0.9em;
        color: #ffd700;
    }
}


        /* ============================================
           LESSON TELEPROMPTER - AUTO-SHRINK TEXT
           ============================================ */
        .lesson-teleprompter-compact {
            width: 100%;
            max-width: 1200px;
            margin: 20px auto 15px;
            background: linear-gradient(135deg, #f8a848 0%, #ffc658 100%);
            border: 4px solid #000;
            border-radius: 8px;
            padding: 15px 20px;
            box-shadow: 0 6px 0 #d85800, inset 0 -2px 0 rgba(255,255,255,0.3);
        }

        .instruction-box-large {
            background: rgba(255, 255, 255, 0.95);
            border: 3px solid #000;
            border-radius: 6px;
            padding: 28px 35px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
        }

        .instruction-text-huge {
            font-family: 'Press Start 2P', monospace;
            font-size: 1.5em;
            color: #000;
            line-height: 1.5;
            text-align: center;
            white-space: nowrap;
            max-width: 100%;
        }

        .metadata-bar {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            align-items: center;
            font-family: 'Press Start 2P', monospace;
            padding: 0;
            gap: 10px;
        }

        .step-title-bottom {
            font-size: 1.2em;
            color: #ffed4e;
            text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
            text-align: left;
            justify-self: start;
            line-height: 1;
        }

        .control-bar-bottom {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 18px;
            justify-self: center;
        }

        .timer-display {
            font-size: 1.2em;
            color: #ffed4e;
            text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
            text-align: right;
            justify-self: end;
            line-height: 1;
        }

        .nav-arrow-compact {
            background: #6c757d;
            border: 3px solid #000;
            border-radius: 5px;
            width: 40px;
            height: 40px;
            color: #fff;
            font-size: 0.95em;
            cursor: pointer;
            font-family: 'Press Start 2P', monospace;
            text-shadow: 2px 2px 0 #000;
            box-shadow: 0 3px 0 #495057, inset 0 -2px 0 rgba(255,255,255,0.2);
            transition: all 0.1s;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }

        .nav-arrow-compact:hover:not(:disabled) {
            background: #868e96;
            transform: translateY(-2px);
        }

        .nav-arrow-compact:active:not(:disabled) {
            transform: translateY(2px);
            box-shadow: 0 1px 0 #495057;
        }

        .nav-arrow-compact:disabled {
            background: #adb5bd;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .step-counter {
            font-size: 1.2em;
            color: #ffed4e;
            text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
            white-space: nowrap;
            line-height: 1;
        }

        :root {
            --zone-green: #d4edda;
            --zone-yellow: #fff3cd;
            --zone-red: #f8d7da;
            --zone-blue: #d1ecf1;
            --zone-green-accent: #c3e6cb;
            --zone-yellow-accent: #ffeaa7;
            --zone-red-accent: #f5c6cb;
            --zone-blue-accent: #bee5eb;
            --zone-text-green: #155724;
            --zone-text-yellow: #856404;
            --zone-text-red: #721c24;
            --zone-text-blue: #0c5460;
            --feelings-font-family: 'Press Start 2P', monospace;
            --feelings-emoji-size: 72px;
            --feelings-label-size: 0.75em;
            --feeling-cell-padding: 18px;
            --feeling-cell-gap: 10px;
            --zone-border-width: 3px;
        }

        .feelings-chart-container {
            width: 100%;
            max-width: 1200px;
            margin: 10px auto 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            border: 4px solid #000;
            box-shadow: 0 8px 0 rgba(0, 0, 0, 0.3);
        }

        .feelings-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--feeling-cell-gap);
        }

        .zone-column {
            display: flex;
            flex-direction: column;
            gap: var(--feeling-cell-gap);
            border: var(--zone-border-width) solid #000;
            border-radius: 8px;
            padding: 12px;
            transition: transform 0.2s ease;
        }

        .green-zone {
            background: linear-gradient(135deg, var(--zone-green) 0%, var(--zone-green-accent) 100%);
        }

        .green-zone .zone-header {
            color: var(--zone-text-green);
            border-bottom: 3px solid var(--zone-text-green);
        }

        .yellow-zone {
            background: linear-gradient(135deg, var(--zone-yellow) 0%, var(--zone-yellow-accent) 100%);
        }

        .yellow-zone .zone-header {
            color: var(--zone-text-yellow);
            border-bottom: 3px solid var(--zone-text-yellow);
        }

        .red-zone {
            background: linear-gradient(135deg, var(--zone-red) 0%, var(--zone-red-accent) 100%);
        }

        .red-zone .zone-header {
            color: var(--zone-text-red);
            border-bottom: 3px solid var(--zone-text-red);
        }

        .blue-zone {
            background: linear-gradient(135deg, var(--zone-blue) 0%, var(--zone-blue-accent) 100%);
        }

        .blue-zone .zone-header {
            color: var(--zone-text-blue);
            border-bottom: 3px solid var(--zone-text-blue);
        }

        .zone-header {
            font-family: var(--feelings-font-family);
            font-size: 0.65em;
            text-align: center;
            padding: 10px 0;
            margin-bottom: 10px;
            font-weight: bold;
            letter-spacing: 1px;
            text-transform: uppercase;
            line-height: 1.5;
        }

        .zone-subtitle {
            font-size: 0.8em;
            opacity: 0.8;
        }

        .feeling-cell {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 14px;
            padding: var(--feeling-cell-padding);
            background: rgba(255, 255, 255, 0.9);
            border: 3px solid #333;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 145px;
            position: relative;
        }

        .feeling-cell:hover {
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
            border-color: #000;
            border-width: 4px;
            z-index: 10;
        }

        .green-zone .feeling-cell:hover {
            background: rgba(212, 237, 218, 0.95);
        }

        .yellow-zone .feeling-cell:hover {
            background: rgba(255, 243, 205, 0.95);
        }

        .red-zone .feeling-cell:hover {
            background: rgba(248, 215, 218, 0.95);
        }

        .blue-zone .feeling-cell:hover {
            background: rgba(209, 236, 241, 0.95);
        }

        .feeling-cell:hover .feeling-definition {
            display: block;
        }

        .feeling-cell:active {
            transform: scale(0.98);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .feeling-cell.selected {
            border-width: 4px;
            border-color: #000;
            background: #fffacd;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
        }

        .feeling-emoji {
            font-size: var(--feelings-emoji-size);
            line-height: 1;
            user-select: none;
            transition: none;
        }

        .feeling-label {
            font-family: var(--feelings-font-family);
            font-size: var(--feelings-label-size);
            font-weight: bold;
            color: #333;
            text-align: center;
            letter-spacing: 0.5px;
            line-height: 1.4;
        }

        .feeling-definition {
            display: none;
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: 12px;
            background: #fffacd;
            border: 3px solid #000;
            border-radius: 8px;
            padding: 14px 18px;
            min-width: 280px;
            max-width: 440px;
            font-family: 'Press Start 2P', monospace;
            font-size: 12px;
            color: #333;
            line-height: 1.7;
            text-align: left;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
            z-index: 100;
            pointer-events: none;
        }

        .feeling-definition::before {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 8px solid transparent;
            border-top-color: #000;
        }

        .feeling-definition::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: #fffacd;
            margin-top: -3px;
        }

        @media (max-width: 1024px) {
            .feelings-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .feeling-cell {
                min-height: 110px;
                gap: 10px;
            }
            :root {
                --feelings-emoji-size: 50px;
                --feelings-label-size: 0.58em;
            }
            .step-title-bottom,
            .timer-display,
            .step-counter {
                font-size: 1em;
            }
            .nav-arrow-compact {
                width: 36px;
                height: 36px;
            }
        }

        @media (max-width: 768px) {
            .feelings-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .feeling-cell {
                min-height: 95px;
                gap: 8px;
            }
            :root {
                --feelings-emoji-size: 42px;
                --feelings-label-size: 0.52em;
            }
            .instruction-box-large {
                padding: 20px 25px;
                min-height: 80px;
            }
            .metadata-bar {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
                gap: 8px;
            }
            .step-title-bottom {
                font-size: 0.85em;
                justify-self: center;
                text-align: center;
            }
            .control-bar-bottom {
                gap: 12px;
            }
            .timer-display {
                font-size: 0.85em;
                justify-self: center;
                text-align: center;
            }
            .nav-arrow-compact {
                width: 34px;
                height: 34px;
            }
            .step-counter {
                font-size: 0.85em;
            }
        }

        @media (max-width: 480px) {
            .feelings-grid {
                grid-template-columns: 1fr;
            }
            .feeling-cell {
                min-height: 85px;
            }
            :root {
                --feelings-emoji-size: 36px;
                --feelings-label-size: 0.5em;
            }
            .instruction-box-large {
                padding: 18px 20px;
                min-height: 70px;
            }
            .lesson-teleprompter-compact {
                padding: 12px 15px;
            }
            .step-title-bottom,
            .timer-display,
            .step-counter {
                font-size: 0.75em;
            }
            .nav-arrow-compact {
                width: 32px;
                height: 32px;
            }
        }

        @media print {
            .feelings-chart-container,
            .lesson-teleprompter-compact {
                box-shadow: none;
                page-break-inside: avoid;
            }
            .feeling-definition {
                display: block;
                position: static;
                transform: none;
                margin-top: 8px;
                font-size: 8px;
                min-width: auto;
                max-width: none;
            }
            .feeling-definition::before,
            .feeling-definition::after {
                display: none;
            }
        }

        .feeling-cell:focus,
        .nav-arrow-compact:focus {
            outline: 4px solid #4A90E2;
            outline-offset: 2px;
        }

        .feeling-cell:focus .feeling-definition {
            display: block;
        }

        @media (prefers-contrast: high) {
            .feeling-cell,
            .zone-column,
            .lesson-teleprompter-compact {
                border-width: 4px;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            .feeling-cell,
            .feeling-emoji,
            .zone-column,
            .nav-arrow-compact {
                transition: none;
            }
        }

    /* ========================================
       MOBILE OPTIMIZATIONS (All Mobile Devices)
       ======================================== */
    @media (max-width: 767px) {

        /* TELEPROMPTER CONTAINER - Reduced padding above white box */
        .teleprompter-compact {
            padding-top: 2px !important;
        }

        /* INSTRUCTION TEXT - Increased height to prevent cutoff */
        .instruction-text-huge {
            font-size: 14px !important;
            white-space: normal !important;
            word-wrap: break-word !important;
            overflow-wrap: break-word !important;
            line-height: 1.4 !important;
            padding: 8px 10px !important;
            box-sizing: border-box !important;
            display: -webkit-box !important;
            -webkit-line-clamp: 3 !important;
            -webkit-box-orient: vertical !important;
            overflow: hidden !important;
            text-overflow: ellipsis !important;
            max-width: 100% !important;
            height: 68px !important;
        }

        /* INSTRUCTION BOX - Increased height + reduced padding */
        .instruction-box-large {
            padding: 2px !important;
            box-sizing: border-box !important;
            width: 100% !important;
            overflow: hidden !important;
            height: 72px !important;
            margin-bottom: 2px !important;
        }

        /* METADATA BAR - Reduced padding */
        .metadata-bar {
            display: grid !important;
            grid-template-columns: 1fr auto 1fr !important;
            grid-template-areas: "left center right" !important;
            align-items: center !important;
            padding: 2px 12px !important;
            gap: 0 !important;
        }

        /* Step Name - Left aligned */
        .step-title-bottom {
            grid-area: left !important;
            justify-self: start !important;
            margin: 0 !important;
            font-size: 10px !important;
            line-height: 1.3 !important;
        }

        /* Arrow buttons - Absolutely centered at 50% */
        .control-bar-bottom {
            grid-area: center !important;
            justify-self: center !important;
            display: flex !important;
            align-items: center !important;
            gap: 6px !important;
            flex-shrink: 0 !important;
        }

        .nav-arrow-compact {
            margin: 0 !important;
            padding: 6px 10px !important;
            font-size: 14px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }

        /* Hide step counter */
        .step-counter {
            display: none !important;
        }

        /* Time display - Right aligned */
        .timer-display {
            grid-area: right !important;
            justify-self: end !important;
            margin: 0 !important;
            font-size: 10px !important;
            line-height: 1.3 !important;
            text-align: right !important;
        }

        /* Special handling for Step 1 time break in portrait */
        .timer-display.step-1-time {
            white-space: pre-line !important;
        }
    }

    /* LANDSCAPE - Same layout, but Step 1 time stays on one line */
    @media (max-width: 767px) and (orientation: landscape) {
        .timer-display.step-1-time {
            white-space: normal !important;
        }

        .timer-display.step-1-time br {
            display: none !important;
        }
    }


/* TILES TOP GRID - Image and Text Boxes */
.tiles-top-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
    margin: 20px auto 30px auto;
    max-width: 1000px;
}

.tiles-box {
    background: rgba(255, 215, 0, 0.1);
    border: 4px solid #ffd700;
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    min-height: 250px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.tiles-text-box {
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Desktop: 2 columns for top boxes */
@media (min-width: 768px) {
    .tiles-top-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .tiles-box {
        min-height: 300px;
    }
}

/* TILES VIDEO GRID STYLES */
.tiles-video-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
    margin: 20px auto;
    max-width: 1000px;
}

.tiles-video-item {
    background: rgba(255, 215, 0, 0.1);
    border: 4px solid #ffd700;
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.tiles-video-title {
    color: #ffd700;
    font-size: 0.85em;
    margin: 0 0 15px 0;
    text-align: center;
    text-shadow: 2px 2px 0 #005800;
    line-height: 1.4;
}

.tiles-video-wrapper {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
    border-radius: 8px;
    background: #000;
}

.tiles-video-wrapper iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
}

/* Desktop: 2 columns for videos */
@media (min-width: 768px) {
    .tiles-video-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

.tiles-main-title {
    font-size: 1em;
}

/* Desktop ONLY: Increase text box font sizes to match header */
@media (min-width: 768px) {
    .tiles-main-title {
        font-size: 1.2em !important;
    }

    .tiles-list {
        font-size: 1.2em !important;
    }

    .tiles-list li {
        font-size: 1em !important;
    }
}

/* Mobile Portrait: Keep videos visible and stacked */
@media (max-width: 480px) and (orientation: portrait) {
    .tiles-video-grid {
        display: grid !important;
        grid-template-columns: 1fr !important;
    }
}

/* Mobile Landscape: Keep videos visible and stacked */
@media (orientation: landscape) and (max-height: 500px) {
    .tiles-video-grid {
        display: grid !important;
        grid-template-columns: 1fr !important;
    }
}


        /* ── Doodle Playlist Thumbnail Cards ─────────────────────────────────
           Plain image links — no iframes, no embed bugs, works on all devices.
           Clicking opens the playlist on YouTube in a new tab.
        ──────────────────────────────────────────────────────────────────── */
        .playlist-thumb-link {
            display: block;
            border-radius: 8px;
            overflow: hidden;
            line-height: 0;
            cursor: pointer;
        }
        .playlist-thumb {
            width: 100%;
            aspect-ratio: 16 / 9;
            object-fit: cover;
            display: block;
            border-radius: 8px;
        }

        @media (hover: none) {
            .feeling-cell:hover .feeling-definition { display: none; }
            .feeling-cell:hover,
            .green-zone .feeling-cell:hover,
            .yellow-zone .feeling-cell:hover,
            .red-zone .feeling-cell:hover,
            .blue-zone .feeling-cell:hover {
                background: rgba(255, 255, 255, 0.9);
                box-shadow: none;
                border-color: #333;
                border-width: 3px;
                z-index: auto;
            }
            .feeling-cell.touch-active {
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
                border-color: #000;
                border-width: 4px;
                z-index: 10;
            }
            .green-zone .feeling-cell.touch-active  { background: rgba(212, 237, 218, 0.95); }
            .yellow-zone .feeling-cell.touch-active { background: rgba(255, 243, 205, 0.95); }
            .red-zone .feeling-cell.touch-active    { background: rgba(248, 215, 218, 0.95); }
            .blue-zone .feeling-cell.touch-active   { background: rgba(209, 236, 241, 0.95); }
            .feeling-cell.touch-active .feeling-definition {
                display: block;
                bottom: 100%; top: auto;
                margin-bottom: 12px;
                max-width: min(360px, 88vw);
                font-size: 10px;
                z-index: 200;
            }
            .feeling-cell.touch-active .feeling-definition::before,
            .feeling-cell.touch-active .feeling-definition::after { display: block; }
        }
</style>

    <script>
        // Rebuild timeline for portrait mode
        function rebuildTimelineForPortrait() {
            if (window.innerWidth > 950) {
                return;
            }
            if (window.timelineAlreadyRebuilt) {
                return;
            }

            const years = document.querySelectorAll('.timeline-year');

            years.forEach(yearDiv => {
                const yearContent = yearDiv.querySelector('.year-content');
                if (!yearContent || yearContent.dataset.portraitProcessed) return;

                // Extract all songs and videos
                const songs = Array.from(yearContent.querySelectorAll('.song-item'));
                const videos = Array.from(yearContent.querySelectorAll('.video-embed'));

                // Extract video URLs to match with songs
                const songUrls = songs.map(s => {
                    const link = s.querySelector('a');
                    if (link) {
                        const href = link.href;
                        const match = href.match(/youtu\.be\/([^?]+)|[?&]v=([^&]+)/);
                        return match ? (match[1] || match[2]) : null;
                    }
                    return null;
                });

                // Match videos to songs by URL
                const pairs = [];
                songs.forEach((song, i) => {
                    const songId = songUrls[i];
                    const matchingVideo = videos.find(v => v.src.includes(songId));
                    pairs.push({ song, video: matchingVideo });
                });

                // Clear the year-content
                yearContent.innerHTML = '';

                // Add pairs: song then video
                pairs.forEach(pair => {
                    if (pair.song) {
                        const songWrapper = document.createElement('div');
                        songWrapper.className = 'portrait-timeline-item song';
                        if (pair.song.dataset.fact) { songWrapper.dataset.fact = pair.song.dataset.fact; }
                        if (pair.song.dataset.instruments) { songWrapper.dataset.instruments = pair.song.dataset.instruments; }
                        let songHTML = pair.song.innerHTML;
                        songHTML = songHTML.replace(/♪\s*/g, '').replace(/\s*♪/g, '');

                        // Remove extra <br> tags
                        songHTML = songHTML.replace(/<br>\s*/g, ' ');

                        songWrapper.innerHTML = songHTML;
                        yearContent.appendChild(songWrapper);
                    }

                    if (pair.video) {
                        const videoWrapper = document.createElement('div');
                        videoWrapper.className = 'portrait-timeline-item video';
                        videoWrapper.appendChild(pair.video.cloneNode(true));
                        yearContent.appendChild(videoWrapper);
                    }
                });

                yearContent.dataset.portraitProcessed = 'true';
            });
        }

        // Run on load and resize
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', rebuildTimelineForPortrait);
        } else {
            rebuildTimelineForPortrait();
        
    initMusicTooltips(); /* FIX: Re-bind listeners for new elements */
}

        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            // Auto-reload REMOVED
        });

        // ========================================
        // MUSIC TOOLTIP & MODAL FUNCTIONALITY
        // ========================================

        function initMusicTooltips() {
            const isDesktop = window.innerWidth > 768;

            if (isDesktop) {
                initDesktopTooltips();
            } else {
                initMobileModals();
            }
        }

        function initDesktopTooltips() {
            const timelineWrapper = document.querySelector('.timeline-wrapper');
            if (timelineWrapper && !timelineWrapper.dataset.desktopTooltipDelegated) {
                timelineWrapper.addEventListener('click', function(e) {
                    const infoBtn = e.target.closest('.info-btn');
                    if (!infoBtn) return;
                    e.preventDefault();
                    e.stopPropagation();
                    const songItem = infoBtn.closest('.song-item, .portrait-timeline-item.song');
                    if (!songItem) return;
                    const tooltip = songItem.querySelector('.song-tooltip');
                    if (!tooltip) return;
                    const isActive = tooltip.classList.contains('active');
                    closeAllTooltips();
                    if (!isActive) { tooltip.classList.add('active'); }
                });
                timelineWrapper.addEventListener('click', function(e) {
                    const closeBtn = e.target.closest('.tooltip-close-btn');
                    if (!closeBtn) return;
                    e.preventDefault();
                    e.stopPropagation();
                    closeAllTooltips();
                });
                timelineWrapper.dataset.desktopTooltipDelegated = 'true';
            }
        }

        function closeAllTooltips() {
            document.querySelectorAll('.song-tooltip.active').forEach(tooltip => {
                tooltip.classList.remove('active');
            });
            const backdrop = document.getElementById('tooltip-backdrop');
            if (backdrop) {
                backdrop.classList.remove('active');
            }
        }

        function initMobileModals() {
            if (!document.getElementById('mobile-modal-backdrop')) {
                const modalBackdrop = document.createElement('div');
                modalBackdrop.id = 'mobile-modal-backdrop';
                modalBackdrop.className = 'mobile-modal-backdrop';
                modalBackdrop.innerHTML = '<div class="mobile-modal" id="mobile-modal"></div>';
                document.body.appendChild(modalBackdrop);
                modalBackdrop.addEventListener('click', function(e) {
                    if (e.target === modalBackdrop) { closeMobileModal(); }
                });
            }
            const timelineWrapper = document.querySelector('.timeline-wrapper');
            if (timelineWrapper && !timelineWrapper.dataset.infoBtnDelegated) {
                timelineWrapper.addEventListener('click', function(e) {
                    const infoBtn = e.target.closest('.info-btn');
                    if (!infoBtn) return;
                    e.preventDefault();
                    e.stopPropagation();
                    const songItem = infoBtn.closest('.song-item, .portrait-timeline-item.song');
                    if (!songItem) return;
                    const fact = songItem.dataset.fact || 'No fact available for this song yet.';
                    const instruments = songItem.dataset.instruments || 'Instruments not listed yet.';
                    openMobileModal(fact, instruments);
                });
                timelineWrapper.dataset.infoBtnDelegated = 'true';
            }
        }

        function openMobileModal(fact, instruments) {
            const modal = document.getElementById('mobile-modal');
            const backdrop = document.getElementById('mobile-modal-backdrop');

            if (modal && backdrop) {
                modal.innerHTML = `
                    <button class="modal-close-btn" onclick="closeMobileModal()">×</button>
                    <div class="modal-content">
                        <div class="modal-fact">${fact}</div>
                        <div class="modal-instruments">
                            <strong>Instruments:</strong>
                            ${instruments}
                        </div>
                    </div>
                `;
                backdrop.classList.add('active');
            }
        }

        function closeMobileModal() {
            const backdrop = document.getElementById('mobile-modal-backdrop');
            if (backdrop) {
                backdrop.classList.remove('active');
            }
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initMusicTooltips);
        } else {
            initMusicTooltips();
        }

        let tooltipResizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(tooltipResizeTimer);
            tooltipResizeTimer = setTimeout(initMusicTooltips, 250);
        });

    </script>
</head>
<body>
    <header>
        <h1>☁️ MR. KUANG'S CLASSROOM ☁️</h1>
    </header>

    <!-- NAVIGATION AT TOP -->
    <nav>
        <div class="nav-buttons">
            <a href="#" class="nav-btn active" data-frame="calendar" data-emoji="🗓️">
                <span class="btn-text">CAL</span>
                <span class="btn-icon">🗓️</span>
            </a>
            <a href="#" class="nav-btn" data-frame="ai" data-emoji="🤖">
                <span class="btn-text">AI</span>
                <span class="btn-icon">?</span>
            </a>
            <a href="#" class="nav-btn" data-frame="music" data-emoji="🎸">
                <span class="btn-text">MUSIC</span>
                <span class="btn-icon">?</span>
            </a>
            <a href="#" class="nav-btn" data-frame="doodle" data-emoji="✍️">
                <span class="btn-text">DOODLE</span>
                <span class="btn-icon">?</span>
            </a>
            <a href="#" class="nav-btn" data-frame="tiles" data-emoji="🧲">
                <span class="btn-text">TILES</span>
                <span class="btn-icon">?</span>
            </a>
        </div>
    </nav>

    <!-- MAIN CONTENT AREA WITH FRAMES -->
    <main>
        <!-- CALENDAR FRAME (Default) -->
        <div id="calendar" class="frame-container active">
            <div class="frame-content">
                <iframe src="https://calendar.google.com/calendar/embed?src=kuangb%40sfusd.edu&ctz=America%2FLos_Angeles" loading="lazy"></iframe>
            </div>
        </div>

        <!-- A.I. FRAME -->
        <div id="ai" class="frame-container">
            <div class="frame-content">
                <h2>ARTIFICIAL INTELLIGENCE</h2>

                <h3>Grades: K, 1st, 2nd</h3>
                <ul>
                    <li>What is A.I.? (<a href="https://docs.google.com/presentation/d/1wdW3P2dN2IhdtON3ZcwjsHXEzdzPYfuIpSv1oTJiZqE/edit?usp=sharing" target="_blank">Slides</a>)</li>
                    <li>How We Teach Machines (<a href="https://docs.google.com/presentation/d/1eOPAY84tG90A5jfrzuE8LeJ07RJKBvqIQEaGaZQ6bDE/edit?usp=sharing" target="_blank">Slides</a>)</li>
                </ul>

                <h3>Grades: 3rd, 4th, 5th</h3>
                <ul>
                    <li>What is A.I.? (<a href="https://docs.google.com/presentation/d/1slG2Sp8NJZWu4tm3a2mJgcA9VPi4-MhmsAh4mLlPqSY/edit?usp=sharing" target="_blank">Slides</a>)</li>
                    <li>How Do Machines Learn? (<a href="https://docs.google.com/presentation/d/18ObW44hpqGIto2yGrwVZDZd_gLA69PGXF2n4dT-gJEk/edit?usp=sharing" target="_blank">Slides</a>)</li>
                </ul>

                <h3>A.I. for Teachers</h3>

                <!-- Embedded Podcast -->
                <div class="embed-wrapper" style="max-width: 500px; height: 202px; margin: 10px 0; text-align: left;">
                    <iframe src="https://player.rss.com/billkuang/2522934?theme=light&v=2" title="Teaching A.I. with Yarn and Tape" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen scrolling="no" loading="lazy"><a href="https://rss.com/podcasts/billkuang/2522934/">Teaching A.I. with Yarn and Tape | RSS.com</a></iframe>
                </div>

                <!-- Embedded YouTube Video -->
                <div class="embed-wrapper" style="max-width: 500px; height: 280px; margin: 10px 0; text-align: left;">
                    <iframe src="https://www.youtube.com/embed/zvmURYVmwB8?si=H9wDiZWfFFCfu4Np" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading="lazy"></iframe>
                </div>

                <ul>
                    <li>Summary (<a href="https://drive.google.com/file/d/1Gkhw3M_Tb3EIOVJ9_2KCfoXaXkqGMJdq/view?usp=share_link" target="_blank">Slides</a>)</li>
                    <li>Full Guide (<a href="https://drive.google.com/file/d/15N7PtmzJ6-bViKlSNU7yxkuYqTGJ2yiv/view?usp=share_link" target="_blank">Text</a>)</li>
                </ul>
            </div>
        </div>

        <!-- MUSIC FRAME -->
        <div id="music" class="frame-container">
            <div class="frame-content" style="display: flex; flex-direction: column; height: 100%;">
                <h2>MUSIC APPRECIATION</h2>

                <div class="piano-wrapper">
                    <div class="result-display" id="resultDisplay">
                        <div class="result-year" id="resultYear"></div>
                    </div>

                    <div class="piano-container">
                        <div class="spotlight" id="spotlight"></div>
                        <div class="piano" id="piano">
                            <div class="piano-title">PIANO TIME MACHINE</div>
                            <div class="black-key black-1" id="decadeToggle" data-decade="1960">
                                <span class="black-text">D<br>E<br>C<br>A<br>D<br>E</span>
                            </div>
                            <div class="black-key black-2"></div>
                            <div class="black-key black-3"></div>
                            <div class="black-key black-4"></div>
                            <div class="black-key black-5"></div>
                            <div class="black-key black-6"></div>
                            <div class="black-key black-7" id="randomKey">
                                <span class="black-text">R<br>A<br>N<br>D<br>O<br>M</span>
                            </div>
                            <div class="white-key" data-year="1960"></div>
                            <div class="white-key" data-year="1961"></div>
                            <div class="white-key" data-year="1962"></div>
                            <div class="white-key" data-year="1963"></div>
                            <div class="white-key" data-year="1964"></div>
                            <div class="white-key" data-year="1965"></div>
                            <div class="white-key" data-year="1966"></div>
                            <div class="white-key" data-year="1967"></div>
                            <div class="white-key" data-year="1968"></div>
                            <div class="white-key" data-year="1969"></div>
                        </div>
                    </div>
                </div>

                <div class="timeline-scroll-container">
<div class="timeline-wrapper">
    <div class="timeline-centerline"></div>
    <div class="timeline-year timeline-left" id="year-1960">
        <div class="year-badge">1960</div>
        <div class="year-content">
            <div class="content-left">
                                <div class="song-item" data-fact="This version of &quot;Georgia on My Mind&quot; became so loved that it was later made the state song of Georgia." data-instruments="piano 🎹, vocals, saxophone 🎷, drums 🥁, bass">
                    <a href="https://youtu.be/J2m4bqOuyqQ" target="_blank" class="song-link">
                        <span class="song-title">♪ Georgia on ♪<br>My Mind</span>
                        <span class="artist-name">Ray Charles</span>
                    </a>
                    <a href="https://youtu.be/J2m4bqOuyqQ" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This version of &quot;Georgia on My Mind&quot; became so loved that it was later made the state song of Georgia.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            piano 🎹, vocals, saxophone 🎷, drums 🥁, bass
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This calm, dreamy tune stayed at number one on the charts for weeks without any singing." data-instruments="strings (violins/violas/cellos) 🎻, flute, clarinet, harp, light drums 🥁">
                    <a href="https://youtu.be/tSsiS-v6_6M" target="_blank" class="song-link">
                        <span class="song-title">♪ Theme from ♪<br>A Summer Place</span>
                        <span class="artist-name">Percy Faith</span>
                    </a>
                    <a href="https://youtu.be/tSsiS-v6_6M" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This calm, dreamy tune stayed at number one on the charts for weeks without any singing.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            strings (violins/violas/cellos) 🎻, flute, clarinet, harp, light drums 🥁
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This song compares school subjects like math and history with something even bigger—love." data-instruments="vocals, guitar 🎸, bass, drums 🥁, horns (saxophone 🎷, trumpet 🎺)">
                    <a href="https://youtu.be/R4GLAKEjU4w" target="_blank" class="song-link">
                        <span class="song-title">♪ (What A) ♪<br>Wonderful World</span>
                        <span class="artist-name">Sam Cooke</span>
                    </a>
                    <a href="https://youtu.be/R4GLAKEjU4w" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song compares school subjects like math and history with something even bigger—love.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, guitar 🎸, bass, drums 🥁, horns (saxophone 🎷, trumpet 🎺)
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-right">
                
            </div>
        </div>
    </div>
    <div class="timeline-year timeline-right" id="year-1961">
        <div class="year-badge">1961</div>
        <div class="year-content">
            <div class="content-left">
                
            </div>
            <div class="content-right">
                                <div class="song-item" data-fact="This song is so timeless it has been used in many movies to show friendship and support." data-instruments="vocals, bass, drums 🥁, strings 🎻, guitar 🎸">
                    <a href="https://youtu.be/7rZyI7kPZMI" target="_blank" class="song-link">
                        <span class="song-title">♪ Stand By Me ♪</span>
                        <span class="artist-name">Ben E. King</span>
                    </a>
                    <a href="https://youtu.be/7rZyI7kPZMI" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song is so timeless it has been used in many movies to show friendship and support.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, bass, drums 🥁, strings 🎻, guitar 🎸
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This gentle love song became one of the most famous wedding songs in the world." data-instruments="vocals, piano 🎹, guitar 🎸, bass, light percussion 🥁">
                    <a href="https://youtu.be/pDDolFGoCuE" target="_blank" class="song-link">
                        <span class="song-title">♪ Can't Help ♪<br>Falling In Love</span>
                        <span class="artist-name">Elvis Presley</span>
                    </a>
                    <a href="https://youtu.be/pDDolFGoCuE" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This gentle love song became one of the most famous wedding songs in the world.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, piano 🎹, guitar 🎸, bass, light percussion 🥁
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="When it first came out, this slow, emotional song became one of the most-played songs on jukeboxes." data-instruments="vocals, piano 🎹, guitar 🎸, bass, drums 🥁, steel guitar">
                    <a href="https://youtu.be/IvdT3Wh9O34" target="_blank" class="song-link">
                        <span class="song-title">♪ Crazy ♪</span>
                        <span class="artist-name">Patsy Cline</span>
                    </a>
                    <a href="https://youtu.be/IvdT3Wh9O34" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">When it first came out, this slow, emotional song became one of the most-played songs on jukeboxes.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, piano 🎹, guitar 🎸, bass, drums 🥁, steel guitar
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="timeline-year timeline-left" id="year-1962">
        <div class="year-badge">1962</div>
        <div class="year-content">
            <div class="content-left">
                                <div class="song-item" data-fact="This song was made for dancing, and people still do the &quot;Twist&quot; to it today." data-instruments="vocals, electric guitar 🎸, bass, drums 🥁, horns (saxophone 🎷, trumpet 🎺)">
                    <a href="https://youtu.be/NqBIDg4Pl6Y" target="_blank" class="song-link">
                        <span class="song-title">♪ Twist and Shout ♪</span>
                        <span class="artist-name">The Isley Brothers</span>
                    </a>
                    <a href="https://youtu.be/NqBIDg4Pl6Y" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song was made for dancing, and people still do the &quot;Twist&quot; to it today.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, electric guitar 🎸, bass, drums 🥁, horns (saxophone 🎷, trumpet 🎺)
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This song taught people a brand-new dance, and kids loved copying the moves." data-instruments="vocals, piano 🎹, guitar 🎸, bass, drums 🥁, saxophone 🎷">
                    <a href="https://youtu.be/wv8k5IqVquU" target="_blank" class="song-link">
                        <span class="song-title">♪ The Locomotion ♪</span>
                        <span class="artist-name">Little Eva</span>
                    </a>
                    <a href="https://youtu.be/wv8k5IqVquU" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song taught people a brand-new dance, and kids loved copying the moves.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, piano 🎹, guitar 🎸, bass, drums 🥁, saxophone 🎷
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This catchy tune has no words, but its cool organ riff is instantly recognizable." data-instruments="Hammond organ (keyboard) 🎹, electric guitar 🎸, bass, drums 🥁">
                    <a href="https://youtu.be/0oox9bJaGJ8" target="_blank" class="song-link">
                        <span class="song-title">♪ Green Onions ♪</span>
                        <span class="artist-name">Booker T. & The M.G.'s</span>
                    </a>
                    <a href="https://youtu.be/0oox9bJaGJ8" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This catchy tune has no words, but its cool organ riff is instantly recognizable.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            Hammond organ (keyboard) 🎹, electric guitar 🎸, bass, drums 🥁
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This song became an unofficial musical &quot;postcard&quot; for the city of San Francisco." data-instruments="vocals, piano 🎹, strings 🎻, drums 🥁, bass">
                    <a href="https://youtu.be/ra8cz6trAU8" target="_blank" class="song-link">
                        <span class="song-title">♪ (I Left My Heart) ♪<br>In San Francisco</span>
                        <span class="artist-name">Tony Bennett</span>
                    </a>
                    <a href="https://youtu.be/ra8cz6trAU8" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song became an unofficial musical &quot;postcard&quot; for the city of San Francisco.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, piano 🎹, strings 🎻, drums 🥁, bass
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-right">
                
            </div>
        </div>
    </div>
    <div class="timeline-year timeline-right" id="year-1963">
        <div class="year-badge">1963</div>
        <div class="year-content">
            <div class="content-left">
                
            </div>
            <div class="content-right">
                                <div class="song-item" data-fact="This song's booming drums and echoing sound helped define the &quot;wall of sound&quot; style in pop music." data-instruments="vocals, drums 🥁 (famous drum intro), bass, guitar 🎸, strings 🎻">
                    <a href="https://youtu.be/4Bj0ijpptWM" target="_blank" class="song-link">
                        <span class="song-title">♪ Be My Baby ♪</span>
                        <span class="artist-name">The Ronettes</span>
                    </a>
                    <a href="https://youtu.be/4Bj0ijpptWM" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song's booming drums and echoing sound helped define the &quot;wall of sound&quot; style in pop music.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, drums 🥁 (famous drum intro), bass, guitar 🎸, strings 🎻
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This song made surfing sound so fun that many kids who heard it had never even seen the ocean." data-instruments="vocals (harmonies), electric guitar 🎸, bass, drums 🥁, organ/keys 🎹">
                    <a href="https://youtu.be/k8jqjx5KFLs" target="_blank" class="song-link">
                        <span class="song-title">♪ Surfin' U.S.A ♪</span>
                        <span class="artist-name">The Beach Boys</span>
                    </a>
                    <a href="https://youtu.be/k8jqjx5KFLs" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song made surfing sound so fun that many kids who heard it had never even seen the ocean.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals (harmonies), electric guitar 🎸, bass, drums 🥁, organ/keys 🎹
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="The bright trumpets in this song give it a fiery &quot;ring&quot; sound that matches the title." data-instruments="vocals, acoustic guitar 🎸, bass, trumpet 🎺, drums 🥁">
                    <a href="https://youtu.be/FwiYC0SsQIc" target="_blank" class="song-link">
                        <span class="song-title">♪ Ring of Fire ♪</span>
                        <span class="artist-name">Johnny Cash</span>
                    </a>
                    <a href="https://youtu.be/FwiYC0SsQIc" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">The bright trumpets in this song give it a fiery &quot;ring&quot; sound that matches the title.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, acoustic guitar 🎸, bass, trumpet 🎺, drums 🥁
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This surf-rock hit is famous for one of the most exciting drum solos in rock music." data-instruments="drums 🥁, electric guitar 🎸, bass">
                    <a href="https://youtu.be/0hLeQCnTGq8" target="_blank" class="song-link">
                        <span class="song-title">♪ Wipe Out ♪</span>
                        <span class="artist-name">The Surfaris</span>
                    </a>
                    <a href="https://youtu.be/0hLeQCnTGq8" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This surf-rock hit is famous for one of the most exciting drum solos in rock music.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            drums 🥁, electric guitar 🎸, bass
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="timeline-year timeline-left" id="year-1964">
        <div class="year-badge">1964</div>
        <div class="year-content">
            <div class="content-left">
                                <div class="song-item" data-fact="The smooth bass line and simple, sweet lyrics helped make this one of Motown's biggest love songs." data-instruments="vocals, bass, drums 🥁, guitar 🎸, strings 🎻">
                    <a href="https://youtu.be/6NEh2r9Hbxw" target="_blank" class="song-link">
                        <span class="song-title">♪ My Girl ♪</span>
                        <span class="artist-name">The Temptations</span>
                    </a>
                    <a href="https://youtu.be/6NEh2r9Hbxw" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">The smooth bass line and simple, sweet lyrics helped make this one of Motown's biggest love songs.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, bass, drums 🥁, guitar 🎸, strings 🎻
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This song was a huge hit and helped make girl groups a big part of 1960s pop music." data-instruments="vocals, drums 🥁, bass, piano 🎹, vibraphone, tambourine">
                    <a href="https://youtu.be/D6QF4sB40gU" target="_blank" class="song-link">
                        <span class="song-title">♪ Baby Love ♪</span>
                        <span class="artist-name">The Supremes</span>
                    </a>
                    <a href="https://youtu.be/D6QF4sB40gU" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song was a huge hit and helped make girl groups a big part of 1960s pop music.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, drums 🥁, bass, piano 🎹, vibraphone, tambourine
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This song's loud, distorted guitar riff helped rock music start to sound more like hard rock." data-instruments="electric guitar 🎸, bass, drums 🥁, vocals">
                    <a href="https://youtu.be/8OCtkAGsLhw" target="_blank" class="song-link">
                        <span class="song-title">♪ You Really ♪<br>Got Me</span>
                        <span class="artist-name">The Kinks</span>
                    </a>
                    <a href="https://youtu.be/8OCtkAGsLhw" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song's loud, distorted guitar riff helped rock music start to sound more like hard rock.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            electric guitar 🎸, bass, drums 🥁, vocals
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This song paints a picture of going into the city &quot;downtown&quot; to feel better when you're lonely." data-instruments="vocals, piano 🎹, strings 🎻, drums 🥁, bass">
                    <a href="https://youtu.be/sO7FWHUQyW0" target="_blank" class="song-link">
                        <span class="song-title">♪ Downtown ♪</span>
                        <span class="artist-name">Petula Clark</span>
                    </a>
                    <a href="https://youtu.be/sO7FWHUQyW0" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song paints a picture of going into the city &quot;downtown&quot; to feel better when you're lonely.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, piano 🎹, strings 🎻, drums 🥁, bass
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-right">
                
            </div>
        </div>
    </div>
    <div class="timeline-year timeline-right" id="year-1965">
        <div class="year-badge">1965</div>
        <div class="year-content">
            <div class="content-left">
                
            </div>
            <div class="content-right">
                                <div class="song-item" data-fact="This song is mostly just voice and strings, and it became one of the most covered songs in history." data-instruments="vocals, acoustic guitar 🎸, string quartet 🎻">
                    <a href="https://youtu.be/ogKi-58S26Y" target="_blank" class="song-link">
                        <span class="song-title">♪ Yesterday ♪</span>
                        <span class="artist-name">The Beatles</span>
                    </a>
                    <a href="https://youtu.be/ogKi-58S26Y" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song is mostly just voice and strings, and it became one of the most covered songs in history.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, acoustic guitar 🎸, string quartet 🎻
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This slow, soaring love song has been used in many movies to show deep emotion." data-instruments="vocals, piano 🎹, strings 🎻, drums 🥁, bass">
                    <a href="https://youtu.be/PWEnpk8Qtnw" target="_blank" class="song-link">
                        <span class="song-title">♪ Unchained ♪<br>Melody</span>
                        <span class="artist-name">The Righteous Brothers</span>
                    </a>
                    <a href="https://youtu.be/PWEnpk8Qtnw" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This slow, soaring love song has been used in many movies to show deep emotion.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, piano 🎹, strings 🎻, drums 🥁, bass
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This upbeat song is a classic of the Motown &quot;danceable love song&quot; sound." data-instruments="vocals, drums 🥁, bass, piano/organ 🎹, horns (saxophone 🎷, trumpet 🎺)">
                    <a href="https://youtu.be/G6c_OY2KJuM" target="_blank" class="song-link">
                        <span class="song-title">♪ I Can't Help Myself ♪<br>(Sugar Pie Honey Bunch)</span>
                        <span class="artist-name">The Four Tops</span>
                    </a>
                    <a href="https://youtu.be/G6c_OY2KJuM" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This upbeat song is a classic of the Motown &quot;danceable love song&quot; sound.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, drums 🥁, bass, piano/organ 🎹, horns (saxophone 🎷, trumpet 🎺)
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This long, story-like song helped show that rock music could have serious, poetic lyrics." data-instruments="vocals, electric guitar 🎸, organ/keys 🎹, bass, drums 🥁">
                    <a href="https://youtu.be/lhPZ8bSnRq8" target="_blank" class="song-link">
                        <span class="song-title">♪ Like a Rolling ♪<br>Stone</span>
                        <span class="artist-name">Bob Dylan</span>
                    </a>
                    <a href="https://youtu.be/lhPZ8bSnRq8" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This long, story-like song helped show that rock music could have serious, poetic lyrics.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, electric guitar 🎸, organ/keys 🎹, bass, drums 🥁
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="timeline-year timeline-left" id="year-1966">
        <div class="year-badge">1966</div>
        <div class="year-content">
            <div class="content-left">
                                <div class="song-item" data-fact="This song uses strong vocals and horns to build big drama and emotion." data-instruments="vocals, horns (trumpet 🎺, saxophone 🎷), organ/keys 🎹, bass, drums 🥁">
                    <a href="https://youtu.be/-cGyvDbJfEo" target="_blank" class="song-link">
                        <span class="song-title">♪ It's a Man's, Man's, ♪<br>Man's World</span>
                        <span class="artist-name">James Brown</span>
                    </a>
                    <a href="https://youtu.be/-cGyvDbJfEo" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song uses strong vocals and horns to build big drama and emotion.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, horns (trumpet 🎺, saxophone 🎷), organ/keys 🎹, bass, drums 🥁
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This song mixes warm harmonies with lyrics about missing sunny California on a cold day." data-instruments="vocals, acoustic guitar 🎸, flute, drums 🥁, bass">
                    <a href="https://youtu.be/uJQrja_nTN0" target="_blank" class="song-link">
                        <span class="song-title">♪ California ♪<br>Dreamin'</span>
                        <span class="artist-name">The Mamas & The Papas</span>
                    </a>
                    <a href="https://youtu.be/uJQrja_nTN0" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song mixes warm harmonies with lyrics about missing sunny California on a cold day.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, acoustic guitar 🎸, flute, drums 🥁, bass
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This song became known as a quiet, thoughtful protest song about people gathering and speaking up." data-instruments="vocals, electric guitar 🎸, bass, drums 🥁">
                    <a href="https://youtu.be/5axSI4OSJjw" target="_blank" class="song-link">
                        <span class="song-title">♪ For What ♪<br>It's Worth</span>
                        <span class="artist-name">Buffalo Springfield</span>
                    </a>
                    <a href="https://youtu.be/5axSI4OSJjw" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song became known as a quiet, thoughtful protest song about people gathering and speaking up.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, electric guitar 🎸, bass, drums 🥁
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-right">
                
            </div>
        </div>
    </div>
    <div class="timeline-year timeline-right" id="year-1967">
        <div class="year-badge">1967</div>
        <div class="year-content">
            <div class="content-left">
                
            </div>
            <div class="content-right">
                                <div class="song-item" data-fact="This version turned &quot;Respect&quot; into a powerful anthem for fairness and equal treatment." data-instruments="vocals, piano 🎹, saxophone 🎷, bass, drums 🥁">
                    <a href="https://youtu.be/26TKKUcZvhA" target="_blank" class="song-link">
                        <span class="song-title">♪ Respect ♪</span>
                        <span class="artist-name">Aretha Franklin</span>
                    </a>
                    <a href="https://youtu.be/26TKKUcZvhA" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This version turned &quot;Respect&quot; into a powerful anthem for fairness and equal treatment.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, piano 🎹, saxophone 🎷, bass, drums 🥁
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This song starts softly and then explodes into a big, brassy &quot;I love you, baby!&quot; sing-along." data-instruments="vocals, horns (trumpet 🎺, trombone), strings 🎻, drums 🥁, bass">
                    <a href="https://youtu.be/0HGqvI-h114" target="_blank" class="song-link">
                        <span class="song-title">♪ Can't Take My ♪<br>Eyes Off You</span>
                        <span class="artist-name">Frankie Valli</span>
                    </a>
                    <a href="https://youtu.be/0HGqvI-h114" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This song starts softly and then explodes into a big, brassy &quot;I love you, baby!&quot; sing-along.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, horns (trumpet 🎺, trombone), strings 🎻, drums 🥁, bass
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This duet uses call-and-response singing to show two voices promising to be there for each other." data-instruments="vocals, drums 🥁, bass, piano/keys 🎹, strings 🎻, tambourine">
                    <a href="https://youtu.be/eu2gAqn4I2A" target="_blank" class="song-link">
                        <span class="song-title">♪ Ain't No Mountain ♪<br>High Enough</span>
                        <span class="artist-name">Marvin Gaye & Tammi Terrell</span>
                    </a>
                    <a href="https://youtu.be/eu2gAqn4I2A" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This duet uses call-and-response singing to show two voices promising to be there for each other.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, drums 🥁, bass, piano/keys 🎹, strings 🎻, tambourine
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="The catchy &quot;ba-ba-ba-ba-ba-ba-ba-ba-ba-ba-ba-ba&quot; hook makes this song easy for crowds to sing." data-instruments="vocals, electric guitar 🎸, bass, drums 🥁">
                    <a href="https://youtu.be/EmeW30fPjgA" target="_blank" class="song-link">
                        <span class="song-title">♪ Happy Together ♪</span>
                        <span class="artist-name">The Turtles</span>
                    </a>
                    <a href="https://youtu.be/EmeW30fPjgA" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">The catchy &quot;ba-ba-ba-ba-ba-ba-ba-ba-ba-ba-ba-ba&quot; hook makes this song easy for crowds to sing.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, electric guitar 🎸, bass, drums 🥁
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="timeline-year timeline-left" id="year-1968">
        <div class="year-badge">1968</div>
        <div class="year-content">
            <div class="content-left">
                                <div class="song-item" data-fact="The long &quot;na-na-na&quot; ending turns into a huge group sing-along that can last for minutes." data-instruments="vocals, piano 🎹, bass, drums 🥁, orchestra (strings 🎻, brass 🎺)">
                    <a href="https://youtu.be/wOU4YBoa5Ng" target="_blank" class="song-link">
                        <span class="song-title">♪ Hey Jude ♪</span>
                        <span class="artist-name">The Beatles</span>
                    </a>
                    <a href="https://youtu.be/wOU4YBoa5Ng" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">The long &quot;na-na-na&quot; ending turns into a huge group sing-along that can last for minutes.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, piano 🎹, bass, drums 🥁, orchestra (strings 🎻, brass 🎺)
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="This version turned a quiet folk song into a powerful electric guitar rock classic." data-instruments="electric guitar 🎸, bass, drums 🥁">
                    <a href="https://youtu.be/AuF7Xsrexgs" target="_blank" class="song-link">
                        <span class="song-title">♪ All Along the ♪<br>Watchtower</span>
                        <span class="artist-name">Jimi Hendrix</span>
                    </a>
                    <a href="https://youtu.be/AuF7Xsrexgs" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">This version turned a quiet folk song into a powerful electric guitar rock classic.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            electric guitar 🎸, bass, drums 🥁
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="The soft &quot;ahh&quot; vocals and organ part give this song a dreamy, floating feeling." data-instruments="vocals, organ/keys 🎹, bass, drums 🥁, guitar 🎸">
                    <a href="https://youtu.be/RBxK3CcOQD8" target="_blank" class="song-link">
                        <span class="song-title">♪ Time of the ♪<br>Season</span>
                        <span class="artist-name">The Zombies</span>
                    </a>
                    <a href="https://youtu.be/RBxK3CcOQD8" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">The soft &quot;ahh&quot; vocals and organ part give this song a dreamy, floating feeling.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, organ/keys 🎹, bass, drums 🥁, guitar 🎸
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="The gentle whistling at the end helps the song feel calm, like sitting quietly by the water." data-instruments="vocals, guitar 🎸, bass, drums 🥁, whistling">
                    <a href="https://youtu.be/gLUgPmNHQLA" target="_blank" class="song-link">
                        <span class="song-title">♪ (Sittin' On) ♪<br>The Dock of the Bay</span>
                        <span class="artist-name">Otis Redding</span>
                    </a>
                    <a href="https://youtu.be/gLUgPmNHQLA" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">The gentle whistling at the end helps the song feel calm, like sitting quietly by the water.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, guitar 🎸, bass, drums 🥁, whistling
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-right">
                
            </div>
        </div>
    </div>
    <div class="timeline-year timeline-right" id="year-1969">
        <div class="year-badge">1969</div>
        <div class="year-content">
            <div class="content-left">
                
            </div>
            <div class="content-right">
                                <div class="song-item" data-fact="The &quot;so good, so good, so good!&quot; part turned this song into a favorite for big crowd sing-alongs." data-instruments="vocals, guitar 🎸, bass, drums 🥁, horns 🎺, strings 🎻">
                    <a href="https://youtu.be/0iN-hemcKc8" target="_blank" class="song-link">
                        <span class="song-title">♪ Sweet Caroline ♪</span>
                        <span class="artist-name">Neil Diamond</span>
                    </a>
                    <a href="https://youtu.be/0iN-hemcKc8" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">The &quot;so good, so good, so good!&quot; part turned this song into a favorite for big crowd sing-alongs.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, guitar 🎸, bass, drums 🥁, horns 🎺, strings 🎻
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="Even though it was sung by a cartoon band, this song became one of the year's biggest pop hits." data-instruments="vocals, electric guitar 🎸, bass, drums 🥁, handclaps">
                    <a href="https://youtu.be/6WTq2Xl3qLk" target="_blank" class="song-link">
                        <span class="song-title">♪ Sugar, Sugar ♪</span>
                        <span class="artist-name">The Archies</span>
                    </a>
                    <a href="https://youtu.be/6WTq2Xl3qLk" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">Even though it was sung by a cartoon band, this song became one of the year's biggest pop hits.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            vocals, electric guitar 🎸, bass, drums 🥁, handclaps
                        </div>
                    </div>
                </div>
                                <div class="song-item" data-fact="The dramatic duet and rolling guitar part make this song feel stormy and intense." data-instruments="electric guitar 🎸, vocals, bass, drums 🥁, percussion (shaker, tambourine)">
                    <a href="https://youtu.be/d8rPE0n3nDw" target="_blank" class="song-link">
                        <span class="song-title">♪ Gimme Shelter ♪</span>
                        <span class="artist-name">The Rolling Stones</span>
                    </a>
                    <a href="https://youtu.be/d8rPE0n3nDw" target="_blank" class="radio-btn" aria-label="Play on YouTube">📻</a>
                    <button class="info-btn" aria-label="More info">ℹ️</button>
                    <div class="song-tooltip">
                        <button class="tooltip-close-btn">×</button>
                        <div class="tooltip-fact">The dramatic duet and rolling guitar part make this song feel stormy and intense.</div>
                        <div class="tooltip-instruments">
                            <strong>Instruments:</strong>
                            electric guitar 🎸, vocals, bass, drums 🥁, percussion (shaker, tambourine)
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
                </div>

                <style>
                    .result-display { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10; pointer-events: auto; cursor: pointer; }
                    .result-year { font-family: 'Press Start 2P', monospace; font-size: clamp(32px, 8vw, 64px); font-weight: bold; color: #fff; text-shadow: 3px 3px 0 #000; opacity: 0; transform: scale(0.5); transition: all 0.5s ease; background: rgba(248, 216, 72, 0.95); border: 4px solid #000; padding: 20px 30px; border-radius: 8px; box-shadow: 0 6px 0 #d85800, inset 0 0 0 4px #fff; }
                    .result-year.show { opacity: 1; transform: scale(1); animation: coinBounce 0.6s ease; }
                    @keyframes coinBounce { 0% { transform: scale(0.5); } 50% { transform: scale(1.1); } 75% { transform: scale(0.95); } 100% { transform: scale(1); } }

                    .piano-wrapper { max-width: 100%; margin: 20px auto; display: flex; flex-direction: column; align-items: center; position: relative; }
                    .piano-container { position: relative; perspective: 1000px; margin: 20px 0; }
                    .piano { position: relative; display: inline-flex; background: linear-gradient(135deg, #1a1a1a 0%, #2c2c2c 100%); padding: clamp(20px, 4vw, 30px) clamp(15px, 3vw, 20px) clamp(30px, 5vw, 40px) clamp(15px, 3vw, 20px); border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.6), inset 0 -5px 20px rgba(0,0,0,0.3); transform-style: preserve-3d; transform: rotateX(5deg); max-width: 90vw; --wk-width: clamp(40px, 6vw, 60px); --wk-margin: 2px; --total-wk: calc(var(--wk-width) + var(--wk-margin)); --bk-width: clamp(28px, 4.5vw, 40px); }
                    .piano-title { position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); font-family: 'Press Start 2P', monospace; font-size: clamp(6px, 1.2vw, 10px); color: #ffd700; text-shadow: 1px 1px 2px #000; letter-spacing: 1px; white-space: nowrap; z-index: 1; }

                    .spotlight { position: absolute; top: -100px; width: clamp(100px, 20vw, 200px); height: 400px; background: radial-gradient(ellipse at center, rgba(255, 215, 0, 0.4) 0%, transparent 70%); pointer-events: none; opacity: 0; transition: all 0.5s ease; z-index: 3; }
                    .spotlight.active { opacity: 1; }

                    .white-key { width: var(--wk-width); height: clamp(180px, 25vw, 250px); background: linear-gradient(180deg, #ffffff 0%, #f5f5f5 100%); border: 2px solid #333; border-radius: 0 0 5px 5px; position: relative; cursor: pointer; transition: all 0.1s; box-shadow: 0 4px 8px rgba(0,0,0,0.3), inset 0 -10px 20px rgba(0,0,0,0.1); margin: 0 1px; }
                    .white-key::after { content: attr(data-year); position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); font-family: 'Press Start 2P', monospace; font-size: clamp(7px, 1.2vw, 10px); color: #333; font-weight: bold; writing-mode: vertical-rl; text-orientation: upright; letter-spacing: 2px; }
                    .white-key:hover { background: linear-gradient(180deg, #ffd700 0%, #ffed4e 100%); box-shadow: 0 0 20px rgba(255, 215, 0, 0.8); }
                    .white-key:active { transform: translateY(3px); box-shadow: 0 2px 4px rgba(0,0,0,0.3), inset 0 -5px 10px rgba(0,0,0,0.2); }
                    .white-key.highlight { background: linear-gradient(180deg, #ffd700 0%, #ffed4e 100%); box-shadow: 0 0 20px rgba(255, 215, 0, 0.8); }
                    .white-key.final-selection { background: linear-gradient(180deg, #ff6b6b 0%, #ee5a6f 100%); animation: finalPulse 1s ease-in-out; box-shadow: 0 0 30px rgba(255, 107, 107, 0.8); }
                    @keyframes finalPulse { 0%, 100% { transform: scale(1) translateY(0); } 50% { transform: scale(1.05) translateY(-5px); } }

                    .black-key { width: var(--bk-width); height: clamp(110px, 16vw, 150px); background: linear-gradient(180deg, #2c2c2c 0%, #000000 100%); border: 2px solid #000; border-radius: 0 0 3px 3px; position: absolute; top: clamp(20px, 4vw, 30px); left: calc(clamp(15px, 3vw, 20px) + (var(--total-wk) * var(--pos)) - (var(--bk-width) / 2)); transition: all 0.1s; box-shadow: 0 4px 8px rgba(0,0,0,0.6), inset 0 2px 4px rgba(255,255,255,0.1); z-index: 2; cursor: default; pointer-events: none; }
                    .black-1, .black-7 { cursor: pointer; pointer-events: auto; background: linear-gradient(180deg, #444 0%, #1a1a1a 100%); border: 3px solid #ffd700; }
                    /* Temporarily make decade key decorative until other decades ready - remove these 2 rules to re-enable */
                    .black-1 { cursor: default !important; pointer-events: none !important; background: linear-gradient(180deg, #2c2c2c 0%, #000000 100%) !important; border: 2px solid #000 !important; }
                    .black-1 .black-text { color: #000 !important; } /* Hide text by making it black */
                                        .black-text { font-family: 'Press Start 2P', monospace; font-size: clamp(6px, 1vw, 9px); color: #ffd700; text-shadow: 1px 1px 0 #000; line-height: 1.3; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; font-weight: bold; letter-spacing: 1px; }
                    .black-1 { --pos: 1; } .black-2 { --pos: 2; } .black-3 { --pos: 4; } .black-4 { --pos: 5; } .black-5 { --pos: 6; } .black-6 { --pos: 8; } .black-7 { --pos: 9; }
                    .black-7:hover { background: linear-gradient(180deg, #ffd700 0%, #ff8c00 100%); border-color: #ffffff; box-shadow: 0 0 20px rgba(255, 215, 0, 0.8); }
                    .black-1:active, .black-7:active { transform: translateY(3px); box-shadow: 0 2px 4px rgba(0,0,0,0.6), inset 0 2px 4px rgba(255,255,255,0.1); }

                    .music-note { position: fixed; font-size: 24px; pointer-events: none; z-index: 1000; animation: floatUp 2s ease-out forwards; }
                    @keyframes floatUp { 0% { opacity: 1; transform: translateY(0) rotate(0deg); } 100% { opacity: 0; transform: translateY(-200px) rotate(360deg); } }

                    .timeline-scroll-container { flex: 1; overflow-y: auto; overflow-x: hidden; scroll-behavior: smooth; padding: 0; }
                    .timeline-wrapper { position: relative; max-width: 1400px; margin: 0 auto; padding: 0 20px; }
                    .timeline-centerline { position: absolute; left: 50%; top: 0; bottom: 0; width: 6px; background: linear-gradient(180deg, #ffd700 0%, #ff8c00 100%); transform: translateX(-50%); box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); z-index: 1; }
                    .timeline-year { position: relative; height: 90vh; margin: 2vh 0; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: all 0.3s ease; scroll-margin-top: 0; }
                    .year-badge { font-family: 'Press Start 2P', monospace; font-size: clamp(36px, 5vw, 48px); color: #000; text-shadow: 2px 2px 0 rgba(0,0,0,0.2); padding: 20px 40px; background: #ffd700; border: 5px solid #000; border-radius: 15px; box-shadow: 0 10px 20px rgba(0,0,0,0.8); z-index: 5; margin-bottom: 30px; }
                    .year-content { display: flex; width: 100%; max-width: 1300px; gap: 0; align-items: center; justify-content: center; z-index: 2; flex: 1; }
                    .content-left, .content-right { flex: 1; display: flex; flex-direction: column; justify-content: center; max-height: 65vh; }
                    .content-left { padding-right: 35px; align-items: flex-end; }
                    .content-right { padding-left: 35px; align-items: flex-start; }

                    .song-item { background: rgba(0,0,0,0.9); border: 3px solid #ffd700; border-radius: 12px; padding: 20px 28px; margin: 8px 0; transition: all 0.3s ease; box-shadow: 0 6px 12px rgba(0,0,0,0.6); max-width: 550px; width: 100%; min-height: 110px; display: flex; align-items: center; justify-content: center; }
                    .song-item:hover { transform: scale(1.03); box-shadow: 0 10px 20px rgba(255, 215, 0, 0.7); border-color: #fff; }
                    .song-link { text-decoration: none; display: block; text-align: center; width: 100%; }
                    .song-title { font-family: 'Press Start 2P', monospace; font-size: clamp(13px, 1.6vw, 17px); color: #fff; display: block; margin-bottom: 10px; line-height: 1.5; }
                    .artist-name { font-family: 'Press Start 2P', monospace; font-size: clamp(11px, 1.4vw, 15px); color: #ffd700; display: block; line-height: 1.4; }
                    .song-link:hover .song-title { color: #ffd700; }
                    .song-link:hover .artist-name { color: #fff; }

                    .video-grid-2x2 { display: grid; grid-template-columns: 200px 200px; gap: 12px; justify-content: center; }
                    .video-pyramid { display: flex; flex-direction: column; align-items: center; gap: 10px; }
                    .video-pyramid .video-row { display: flex; gap: 12px; justify-content: center; }
                    .video-embed { width: 200px !important; height: 113px !important; max-width: 200px !important; max-height: 113px !important; min-width: 200px !important; min-height: 113px !important; border: 4px solid #ffd700; border-radius: 10px; box-shadow: 0 6px 15px rgba(0,0,0,0.6); transition: all 0.3s ease; display: block; flex-shrink: 0; }
                    .video-embed:hover { transform: scale(1.05); box-shadow: 0 10px 25px rgba(255, 215, 0, 0.8); border-color: #fff; }

                    .timeline-year.highlight-year .year-badge { animation: glowShine 3s ease-in-out forwards; }
                    @keyframes glowShine {
                        0% { filter: brightness(1); box-shadow: 0 10px 20px rgba(0,0,0,0.8); }
                        16.67% { filter: brightness(1.5); box-shadow: 0 0 40px rgba(255, 215, 0, 1), 0 0 80px rgba(255, 215, 0, 0.8), 0 10px 20px rgba(0,0,0,0.8); }
                        83.33% { filter: brightness(1.5); box-shadow: 0 0 40px rgba(255, 215, 0, 1), 0 0 80px rgba(255, 215, 0, 0.8), 0 10px 20px rgba(0,0,0,0.8); }
                        100% { filter: brightness(1); box-shadow: 0 10px 20px rgba(0,0,0,0.8); }
                    }

                    @media (max-width: 1024px) {
                        .year-content { flex-direction: column; gap: 20px; }
                        .content-left, .content-right { padding: 0; align-items: center; width: 100%; max-width: 600px; }
                        .timeline-year { height: auto; min-height: 90vh; }
                        .video-grid-2x2 { grid-template-columns: 180px 180px; }
                        .video-embed { width: 180px !important; height: 101px !important; max-width: 180px !important; max-height: 101px !important; min-width: 180px !important; min-height: 101px !important; }
                    }
                
@media (max-width: 950px) and (orientation: landscape) {
    .timeline-centerline { display: none !important; }
    .timeline-year {
        height: auto !important;
        min-height: 0 !important;
        display: block !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    .year-badge {
        display: block !important;
        text-align: center !important;
        margin: 10px auto !important;
        position: relative !important;
        transform: none !important;
        font-size: 18px !important;
        padding: 10px 20px !important;
        background: #ffd700 !important;
        color: #000 !important;
        border: 3px solid #000 !important;
        text-shadow: none !important;
        border-radius: 12px !important;
    }
    .year-content {
        display: block !important;
        width: 100% !important;
        padding: 0 20px !important;
        margin: 0 !important;
    }
    .portrait-timeline-item {
        display: block !important;
        width: 100% !important;
        max-width: 500px !important;
        margin: 10px auto !important;
    }
    .portrait-timeline-item.song {
        background: rgba(0,0,0,0.9);
        border: 3px solid #ffd700;
        border-radius: 12px;
        padding: 12px 16px;
        min-height: 60px;
    }
    .portrait-timeline-item.song a {
        font-size: 0.7em !important;
        line-height: 1.6 !important;
        color: #fff;
        text-decoration: none;
    }
    .portrait-timeline-item .song-title {
        display: block;
        margin-bottom: 6px;
        color: #fff;
    }
    .portrait-timeline-item .artist-name {
        display: block;
        font-size: 0.9em;
        color: #ffd700;
    }
}


/* ========================================
   MUSIC TOOLTIP & BUTTONS - All Views
   ======================================== */

.song-item {
    position: relative;
}

.song-link {
    pointer-events: none;
    cursor: default;
}

.radio-btn {
    position: absolute;
    bottom: 8px;
    left: 8px;
    background: rgba(255, 215, 0, 0.9);
    border: 2px solid #fff;
    border-radius: 50%;
    width: 28px;
    height: 28px;
    font-size: 14px;
    cursor: pointer;
    z-index: 5;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    text-decoration: none;
}

.radio-btn:active {
    transform: scale(0.95);
}

.info-btn {
    position: absolute;
    bottom: 8px;
    right: 8px;
    background: rgba(255, 215, 0, 0.9);
    border: 2px solid #fff;
    border-radius: 50%;
    width: 28px;
    height: 28px;
    font-size: 14px;
    cursor: pointer;
    z-index: 5;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.info-btn:active {
    transform: scale(0.95);
}

/* ========================================
   DESKTOP TOOLTIP (Click-based)
   ======================================== */

@media (min-width: 769px) {
    /* removed */

    

    .song-tooltip {
        display: none;
        position: absolute;
        z-index: 100;
        background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
        border: 4px solid #000;
        border-radius: 12px;
        padding: 16px 24px;
        min-width: 480px;
        max-width: 600px;
        box-shadow: 0 8px 16px rgba(0,0,0,0.5);
        font-family: 'Press Start 2P', monospace;
        font-size: 0.6em;
        line-height: 1.8;
        color: #000;
        text-shadow: none;
    }

    .song-tooltip.active {
        display: block;
    }

    .song-tooltip::before {
        content: '';
        position: absolute;
        border: 12px solid transparent;
    }

    .timeline-left .song-tooltip {
        left: calc(100% + 20px);
        top: 50%;
        transform: translateY(-50%);
    }

    .timeline-left .song-tooltip::before {
        right: 100%;
        top: 50%;
        transform: translateY(-50%);
        border-right-color: #000;
    }

    .timeline-right .song-tooltip {
        right: calc(100% + 20px);
        top: 50%;
        transform: translateY(-50%);
    }

    .timeline-right .song-tooltip::before {
        left: 100%;
        top: 50%;
        transform: translateY(-50%);
        border-left-color: #000;
    }

    .tooltip-close-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(0, 0, 0, 0.8);
        color: #ffd700;
        border: 3px solid #000;
        border-radius: 50%;
        width: 42px;
        height: 42px;
        font-size: 27px;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        line-height: 1;
        padding: 0;
    }

    .tooltip-close-btn:hover {
        background: rgba(0, 0, 0, 1);
        transform: scale(1.1);
    }

    .tooltip-close-btn:active {
        transform: scale(0.95);
    }

    .tooltip-fact {
        margin-bottom: 18px;
    font-size: 1.25em;
        padding-right: 45px;
    }

    .tooltip-instruments {
        font-size: 1.25em;
        color: #333;
    }

    .tooltip-instruments strong {
        display: inline;
        margin-right: 8px;
        color: #000;
    }
}

/* ========================================
   MOBILE BASE - ALL DEVICES ≤768px
   ======================================== */

@media (max-width: 768px) {
    .song-tooltip {
        display: none !important;
    }

    /* removed */

    .timeline-year,
    .timeline-item,
    .song-item,
    .portrait-timeline-item {
        display: block !important;
        clear: both !important;
        float: none !important;
        position: relative !important;
        z-index: auto !important;
    }

    .portrait-timeline-item .timeline-year,
    .timeline-year,
    div.timeline-year {
        margin: 0 auto 40px auto !important;
        padding: 0 !important;
    }

    .portrait-timeline-item .timeline-year .year-badge,
    .timeline-year .year-badge,
    div.timeline-year > .year-badge {
        margin: 0 auto 30px auto !important;
        padding: 20px 40px !important;
    }

    .portrait-timeline-item .timeline-year .year-content,
    .timeline-year .year-content,
    div.timeline-year > .year-content {
        margin: 0 !important;
        padding: 0 !important;
    }

    .year-content .content-left,
    .year-content .content-right {
        margin: 0 !important;
        padding: 0 !important;
    }

    .timeline-year .song-item,
    .year-content .song-item,
    .content-left .song-item,
    .content-right .song-item,
    div.song-item {
        margin: 0 auto 12px auto !important;
        padding: 0 !important;
    }

    .year-content .song-item:first-child,
    .content-left .song-item:first-child,
    .content-right .song-item:first-child {
        margin-top: 0 !important;
    }

    .year-content .song-item:last-child,
    .content-left .song-item:last-child,
    .content-right .song-item:last-child {
        margin-bottom: 12px !important;
    }

    .mobile-modal-backdrop {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        z-index: 999;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }

    .mobile-modal-backdrop.active {
        display: flex;
    }

    .mobile-modal {
        background: linear-gradient(135deg, #ffd700 0%, #f8a848 100%);
        border: 6px solid #000;
        border-radius: 24px;
        padding: 75px 25px 25px 25px;
        max-width: 625px;
        width: 90%;
        max-height: 68vh;
        overflow-y: auto;
        position: relative;
        box-shadow: 0 10px 30px rgba(0,0,0,0.8);
    }

    .modal-content {
        font-family: 'Press Start 2P', monospace;
        font-size: 0.65em;
        line-height: 1.7;
        color: #000;
        text-shadow: none;
    }

    .modal-fact {
        margin-bottom: 15px;
    }

    .modal-instruments {
        font-size: 0.95em;
        color: #333;
    }

    .modal-instruments strong {
        display: block;
        margin-bottom: 8px;
        color: #000;
    }

    .modal-close-btn {
        position: absolute;
        top: 12px;
        right: 12px;
        background: rgba(0, 0, 0, 0.8);
        color: #ffd700;
        border: 2px solid #000;
        border-radius: 50%;
        width: 32px;
        height: 32px;
        font-size: 20px;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        line-height: 1;
        padding: 0;
    }

    .modal-close-btn:active {
        transform: scale(0.95);
    }

    .radio-btn,
    .info-btn {
        width: 26px;
        height: 26px;
        font-size: 13px;
        bottom: 6px;
    }

    .radio-btn {
        left: 6px;
    }

    .info-btn {
        right: 6px;
    }
}

/* ========================================
   LANDSCAPE OVERRIDE - Fix Layering & Spacing
   ======================================== */

@media (max-width: 768px) and (orientation: landscape) {
    /* CRITICAL FIX: Remove positioning context so year-badge flows naturally */

    /* Year containers */
    body .portrait-timeline-item .timeline-year,
    body .timeline-year,
    body div.timeline-year {
        margin: 0 auto 40px auto !important;
        padding: 0 !important;
        position: static !important;
    
  height: auto !important;
  display: block !important;
  
        height: auto !important;
        display: block !important;
    }

    /* Year badge - CRITICAL: position static to flow with songs */
    body .portrait-timeline-item .timeline-year .year-badge,
    body .timeline-year .year-badge,
    body div.timeline-year > .year-badge {
        position: static !important;
        transform: none !important;
        margin: 0 auto 30px auto !important;
        padding: 20px 40px !important;
        display: block !important;
        text-align: center !important;
        font-size: 18px !important;
        background: #ffd700 !important;
        color: #000 !important;
        border: 3px solid #000 !important;
        border-radius: 12px !important;
    }

    /* Year content - no padding to match portrait */
    body .portrait-timeline-item .timeline-year .year-content,
    body .timeline-year .year-content,
    body div.timeline-year > .year-content {
        margin: 0 !important;
        padding: 0 !important;
        width: 100% !important;
        display: block !important;
        position: static !important;
    }

    /* Content containers */
    body .year-content .content-left,
    body .year-content .content-right {
        margin: 0 !important;
        padding: 0 !important;
        position: static !important;
    
  max-height: none !important;
  display: block !important;
  
        max-height: none !important;
        display: block !important;
    }

    /* Song items - ensure they're also static */
    body .timeline-year .song-item,
    body .year-content .song-item,
    body .content-left .song-item,
    body .content-right .song-item {
        margin: 0 auto 12px auto !important;
        padding: 0 !important;
        position: relative !important;
    }

    body .year-content .song-item:first-child,
    body .content-left .song-item:first-child,
    body .content-right .song-item:first-child {
        margin-top: 0 !important;
    }

    body .year-content .song-item:last-child,
    body .content-left .song-item:last-child,
    body .content-right .song-item:last-child {
        margin-bottom: 12px !important;
    }
}

/* Portrait-specific */
@media (max-width: 480px) and (orientation: portrait) {
    .modal-content {
        font-size: 0.58em;
    }

    .radio-btn,
    .info-btn {
        width: 24px;
        height: 24px;
        font-size: 12px;
    }
}

</style>

                <script>
                    let currentDecade = 1960; 
                    let isAnimating = false;
                    const decadeToggle = document.getElementById('decadeToggle'); 
                    const randomKey = document.getElementById('randomKey');
                    const resultYear = document.getElementById('resultYear'); 
                    const resultDisplay = document.getElementById('resultDisplay'); 
                    const spotlight = document.getElementById('spotlight');

                    // Manual click on year box (backup option)
                    resultDisplay.addEventListener('click', () => { 
                        const yearText = resultYear.textContent; 
                        if (yearText) { 
                            const yearElement = document.getElementById('year-' + yearText); 
                            if (yearElement) { 
                                yearElement.scrollIntoView({ behavior: 'smooth', block: 'start' }); 
                                document.querySelectorAll('[id^="year-"]').forEach(el => el.classList.remove('highlight-year')); 
                                yearElement.classList.add('highlight-year'); 
                                resultYear.classList.remove('show'); 
                                spotlight.classList.remove('active'); 
                                document.querySelectorAll('.final-selection').forEach(key => key.classList.remove('final-selection')); 
                            } 
                        } 
                    });

                    /* Decade toggle disabled until other decades ready
                    decadeToggle.addEventListener('click', (e) => { 
                        e.stopPropagation(); 
                        if (isAnimating) return; 
                        if (currentDecade === 1960) currentDecade = 1970; 
                        else if (currentDecade === 1970) currentDecade = 1980; 
                        else if (currentDecade === 1980) currentDecade = 1990; 
                        else currentDecade = 1960; 
                        decadeToggle.setAttribute('data-decade', currentDecade); 
                        updateYears(); 
                    });
                    */

                    /* updateYears function disabled (only 1960s needed for now)
                    function updateYears() { 
                        const whiteKeys = document.querySelectorAll('.white-key'); 
                        for (let i = 0; i < 10; i++) { 
                            whiteKeys[i].setAttribute('data-year', currentDecade + i); 
                        } 
                    }
                    */

                    function createMusicNote(x, y) { 
                        const note = document.createElement('div'); 
                        note.className = 'music-note'; 
                        note.textContent = ['♪', '♫', '♬'][Math.floor(Math.random() * 3)]; 
                        note.style.left = x + 'px'; 
                        note.style.top = y + 'px'; 
                        note.style.color = '#ffd700'; 
                        note.style.textShadow = '2px 2px 0 #000'; 
                        document.body.appendChild(note); 
                        setTimeout(() => note.remove(), 2000); 
                    }

                    randomKey.addEventListener('click', () => { 
                        if (isAnimating) return; 
                        isAnimating = true; 
                        randomKey.style.pointerEvents = 'none'; 
                        resultYear.classList.remove('show'); 
                        spotlight.classList.remove('active'); 
                        document.querySelectorAll('.final-selection').forEach(key => key.classList.remove('final-selection')); 

                        const whiteKeys = document.querySelectorAll('.white-key'); 
                        const keysArray = Array.from(whiteKeys); 
                        let speed = 100; 
                        let cycleCount = 0; 
                        const maxCycles = 20; 

                        const cycleInterval = setInterval(() => { 
                            whiteKeys.forEach(key => key.classList.remove('highlight')); 
                            const randomIndex = Math.floor(Math.random() * keysArray.length); 
                            keysArray[randomIndex].classList.add('highlight'); 
                            cycleCount++; 
                            if (cycleCount > maxCycles) speed = 30; 

                            if (cycleCount >= maxCycles && speed === 30) { 
                                clearInterval(cycleInterval); 

                                setTimeout(() => { 
                                    whiteKeys.forEach(key => key.classList.remove('highlight')); 
                                    const finalIndex = Math.floor(Math.random() * keysArray.length); 
                                    const finalKey = keysArray[finalIndex]; 
                                    finalKey.classList.add('final-selection'); 

                                    const selectedYear = finalKey.getAttribute('data-year'); 
                                    resultYear.textContent = selectedYear; 
                                    setTimeout(() => resultYear.classList.add('show'), 100); 

                                    const keyRect = finalKey.getBoundingClientRect(); 
                                    const pianoRect = document.getElementById('piano').getBoundingClientRect(); 
                                    spotlight.style.left = (keyRect.left - pianoRect.left - 80) + 'px'; 
                                    spotlight.classList.add('active'); 

                                    const noteX = keyRect.left + keyRect.width / 2; 
                                    const noteY = keyRect.top; 
                                    for (let i = 0; i < 5; i++) { 
                                        setTimeout(() => { 
                                            createMusicNote(noteX + (Math.random() - 0.5) * 40, noteY); 
                                        }, i * 200); 
                                    }

                                    // AUTO-SCROLL AFTER 3 PULSES (3 seconds)
                                    setTimeout(() => {
                                        const yearElement = document.getElementById('year-' + selectedYear);
                                        if (yearElement) {
                                            yearElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                            document.querySelectorAll('[id^="year-"]').forEach(el => el.classList.remove('highlight-year'));
                                            yearElement.classList.add('highlight-year');

                                            // RESET PIANO after scrolling
                                            setTimeout(() => {
                                                resultYear.classList.remove('show');
                                                spotlight.classList.remove('active');
                                                document.querySelectorAll('.final-selection').forEach(key => key.classList.remove('final-selection'));
                                            }, 500);
                                        }
                                    }, 3000);

                                    isAnimating = false; 
                                    randomKey.style.pointerEvents = 'auto'; 
                                }, 200); 
                            } 
                        }, speed); 
                    });

                    // White key click handlers with 1s pulse and spotlight
                    document.querySelectorAll('.white-key').forEach(whiteKey => {
                        whiteKey.addEventListener('click', (e) => {
                            if (isAnimating) return; // Block during any animation

                            const year = whiteKey.getAttribute('data-year');
                            if (!year) return;

                            isAnimating = true;

                            // Add red pulse (1 second)
                            whiteKey.classList.add('final-selection');

                            // Calculate and show spotlight (auto-positioned for all devices)
                            const keyRect = whiteKey.getBoundingClientRect();
                            const pianoRect = document.getElementById('piano').getBoundingClientRect();
                            spotlight.style.left = (keyRect.left - pianoRect.left + (keyRect.width / 2) - 100) + 'px';
                            spotlight.classList.add('active');

                            // Create music notes
                            const noteX = keyRect.left + keyRect.width / 2;
                            const noteY = keyRect.top;
                            for (let i = 0; i < 5; i++) {
                                setTimeout(() => createMusicNote(noteX + (Math.random() - 0.5) * 40, noteY), i * 200);
                            }

                            // After 1s pulse, scroll to year
                            setTimeout(() => {
                                const yearElement = document.getElementById('year-' + year);
                                if (yearElement) {
                                    yearElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                    document.querySelectorAll('[id^="year-"]').forEach(el => el.classList.remove('highlight-year'));
                                    yearElement.classList.add('highlight-year');

                                    // Reset piano after scroll completes (500ms buffer)
                                    setTimeout(() => {
                                        whiteKey.classList.remove('final-selection');
                                        spotlight.classList.remove('active');
                                        isAnimating = false;
                                    }, 500);
                                } else {
                                    // No year element found, just reset
                                    whiteKey.classList.remove('final-selection');
                                    spotlight.classList.remove('active');
                                    isAnimating = false;
                                }
                            }, 1000);
                        });
                    });
                </script>
            </div>
        </div>

        <!-- DOODLE PADS FRAME -->
        <div id="doodle" class="frame-container">
            <div class="frame-content">
                <h2>DOODLE PADS</h2>

                <!-- Top Grid: Image and Text Boxes -->
                <div class="tiles-top-grid">
                    <!-- Left Box: Image -->
                    <div class="tiles-box">
                        <img src="https://raw.githubusercontent.com/billkuang-ai/billkuang.com/refs/heads/main/doodle.jpg" 
                             alt="Doodle Pads" 
                             style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
                    </div>

                    <!-- Right Box: Text -->
                    <div class="tiles-box tiles-text-box">
                        <div style="text-align: center;">
                            <h4 class="tiles-video-title tiles-main-title" style="margin-bottom: 20px;">30 Doodle Pads Available!</h4>
                            <ul class="tiles-list" style="list-style: none; padding: 0; margin: 0; line-height: 1.8; color: #fff;">
                                <li>Drawing</li>
                                <li>Sight Words</li>
                                <li>Spelling</li>
                                <li>Math</li>
                                <li>Cursive</li>
                            </ul>
                        </div>
                    </div>
                </div>



                <!-- Doodle Playlist Grid -->
                <div class="tiles-video-grid">
                    <div class="tiles-video-item">
                        <h4 class="tiles-video-title">Zoodle Zen Doodling</h4>
                        <a class="playlist-thumb-link"
                           href="https://www.youtube.com/watch?v=C4ZD5aGNZqI&list=PLvLIvOFxRJxtS9xPq5E4EUVIyYorzwq3H"
                           target="_blank" rel="noopener noreferrer"
                           aria-label="Open Zoodle Zen Doodling playlist on YouTube">
                            <img class="playlist-thumb"
                                 src="https://i.ytimg.com/vi/C4ZD5aGNZqI/maxresdefault.jpg"
                                 onerror="this.src='https://i.ytimg.com/vi/C4ZD5aGNZqI/hqdefault.jpg'"
                                 alt="Zoodle Zen Doodling playlist thumbnail"
                                 loading="lazy">
                        </a>
                    </div>
                    <div class="tiles-video-item">
                        <h4 class="tiles-video-title">How to Draw Cute Things</h4>
                        <a class="playlist-thumb-link"
                           href="https://www.youtube.com/watch?v=yMHB0-d2ZAQ&list=PLrzWinNaF5YfjzXwu4ycD_0fyYCa_dFZ3"
                           target="_blank" rel="noopener noreferrer"
                           aria-label="Open How to Draw Cute Things playlist on YouTube">
                            <img class="playlist-thumb"
                                 src="https://i.ytimg.com/vi/yMHB0-d2ZAQ/maxresdefault.jpg"
                                 onerror="this.src='https://i.ytimg.com/vi/yMHB0-d2ZAQ/hqdefault.jpg'"
                                 alt="How to Draw Cute Things playlist thumbnail"
                                 loading="lazy">
                        </a>
                    </div>
                </div>

                <!-- SEL Lesson Teleprompter - 6 Steps -->
                <div class="lesson-teleprompter-compact">
                    <!-- Large Instruction Box -->
                    <div class="instruction-box-large">
                        <div class="instruction-text-huge" id="instruction-text">
                            Emojis & Doodle Pads (SEL Lesson)
                        </div>
                    </div>

                    <!-- Metadata Bar -->
                    <div class="metadata-bar">
                        <div class="step-title-bottom" id="step-title-bottom">Introduction</div>
                        <div class="control-bar-bottom">
                            <button id="prev-btn" class="nav-arrow-compact" disabled>◀</button>
                            <span class="step-counter"><span id="current-step">1</span> of 6</span>
                            <button id="next-btn" class="nav-arrow-compact">▶</button>
                        </div>
                        <div class="timer-display" id="timer-display">20 min (total)</div>
                    </div>
                </div>

                <!-- Zones of Regulation Feelings Chart -->
                <div class="feelings-chart-container">
                    <div class="feelings-grid">
                        <!-- GREEN ZONE (READY) -->
                        <div class="zone-column green-zone">
                            <div class="zone-header">Green Zone<br><span class="zone-subtitle">(Ready)</span></div>
                            <div class="feeling-cell" data-feeling="happy">
                                <span class="feeling-emoji">😊</span>
                                <span class="feeling-label">Happy</span>
                                <div class="feeling-definition">You feel good and content. Things are going well and you might be smiling.</div>
                            </div>
                            <div class="feeling-cell" data-feeling="excited">
                                <span class="feeling-emoji">🤩</span>
                                <span class="feeling-label">Excited</span>
                                <div class="feeling-definition">You have lots of positive energy about something. You can't wait for what's coming next!</div>
                            </div>
                            <div class="feeling-cell" data-feeling="calm">
                                <span class="feeling-emoji">😌</span>
                                <span class="feeling-label">Calm</span>
                                <div class="feeling-definition">Your body and mind feel peaceful and relaxed. You're ready to learn and focus.</div>
                            </div>
                        </div>

                        <!-- YELLOW ZONE (ALERT) -->
                        <div class="zone-column yellow-zone">
                            <div class="zone-header">Yellow Zone<br><span class="zone-subtitle">(Alert)</span></div>
                            <div class="feeling-cell" data-feeling="worried">
                                <span class="feeling-emoji">😟</span>
                                <span class="feeling-label">Worried</span>
                                <div class="feeling-definition">You're thinking about something that might go wrong. Your mind feels busy with "what if" thoughts.</div>
                            </div>
                            <div class="feeling-cell" data-feeling="confused">
                                <span class="feeling-emoji">😕</span>
                                <span class="feeling-label">Confused</span>
                                <div class="feeling-definition">You don't understand something or aren't sure what to do. You might need help or more information.</div>
                            </div>
                            <div class="feeling-cell" data-feeling="silly">
                                <span class="feeling-emoji">😜</span>
                                <span class="feeling-label">Silly</span>
                                <div class="feeling-definition">You feel playful and goofy. You want to laugh and have fun.</div>
                            </div>
                        </div>

                        <!-- RED ZONE -->
                        <div class="zone-column red-zone">
                            <div class="zone-header">Red Zone<br><span class="zone-subtitle">(Intense)</span></div>
                            <div class="feeling-cell" data-feeling="angry">
                                <span class="feeling-emoji">😠</span>
                                <span class="feeling-label">Angry</span>
                                <div class="feeling-definition">You feel mad about something that seems unfair or wrong. Your body might feel hot or tense.</div>
                            </div>
                            <div class="feeling-cell" data-feeling="frustrated">
                                <span class="feeling-emoji">😤</span>
                                <span class="feeling-label">Frustrated</span>
                                <div class="feeling-definition">Something is hard or not working the way you want. You feel stuck or annoyed.</div>
                            </div>
                            <div class="feeling-cell" data-feeling="scared">
                                <span class="feeling-emoji">😨</span>
                                <span class="feeling-label">Scared</span>
                                <div class="feeling-definition">You feel afraid or unsafe about something. Your heart might beat fast and you want to get away.</div>
                            </div>
                        </div>

                        <!-- BLUE ZONE -->
                        <div class="zone-column blue-zone">
                            <div class="zone-header">Blue Zone<br><span class="zone-subtitle">(Low Energy)</span></div>
                            <div class="feeling-cell" data-feeling="sad">
                                <span class="feeling-emoji">😢</span>
                                <span class="feeling-label">Sad</span>
                                <div class="feeling-definition">You feel unhappy or hurt about something. You might feel like crying or being alone.</div>
                            </div>
                            <div class="feeling-cell" data-feeling="tired">
                                <span class="feeling-emoji">😴</span>
                                <span class="feeling-label">Tired</span>
                                <div class="feeling-definition">Your body feels worn out and needs rest. You might want to slow down or take a break.</div>
                            </div>
                            <div class="feeling-cell" data-feeling="bored">
                                <span class="feeling-emoji">😔</span>
                                <span class="feeling-label">Bored</span>
                                <div class="feeling-definition">Nothing feels interesting or fun right now. You wish you had something better to do.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MAGNETIC TILES FRAME -->
        <div id="tiles" class="frame-container">
            <div class="frame-content">
                <h2>MAGNETIC TILES</h2>

                <!-- Top Grid: Image and Text Boxes -->
                <div class="tiles-top-grid">
                    <!-- Left Box: Image -->
                    <div class="tiles-box">
                        <img src="https://raw.githubusercontent.com/billkuang-ai/billkuang.com/refs/heads/main/magtiles.jpg" 
                             alt="Magnetic Tiles" 
                             style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
                    </div>

                    <!-- Right Box: Text -->
                    <div class="tiles-box tiles-text-box">
                        <div style="text-align: center;">
                            <h4 class="tiles-video-title tiles-main-title" style="margin-bottom: 20px;">6 Mag Tile Sets Available!</h4>
                            <ul class="tiles-list" style="list-style: none; padding: 0; margin: 0; line-height: 1.8; color: #fff;">
                                <li>Colors</li>
                                <li>Shapes</li>
                                <li>Letters</li>
                                <li>Creativity</li>
                                <li>Teamwork</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Video Grid Container -->
                <div class="tiles-video-grid">
                    <!-- Video 1 -->
                    <div class="tiles-video-item">
                        <h4 class="tiles-video-title">What Makes Things Magnetic?</h4>
                        <div class="tiles-video-wrapper">
                            <iframe src="https://www.youtube.com/embed/d9FXyT6V7zw?start=242" 
                                    title="What Makes Things Magnetic?" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen 
                                    loading="lazy">
                            </iframe>
                        </div>
                    </div>

                    <!-- Video 2 -->
                    <div class="tiles-video-item">
                        <h4 class="tiles-video-title">Strong Structures with Triangles</h4>
                        <div class="tiles-video-wrapper">
                            <iframe src="https://www.youtube.com/embed/mBHJtWbsiaA" 
                                    title="Strong Structures with Triangles" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen 
                                    loading="lazy">
                            </iframe>
                        </div>
                    </div>

                    <!-- Video 3 -->
                    <div class="tiles-video-item">
                        <h4 class="tiles-video-title">Build a Bridge with Magna-tiles!</h4>
                        <div class="tiles-video-wrapper">
                            <iframe src="https://www.youtube.com/embed/CtLpli_JOD8" 
                                    title="Build a Bridge with Magna-tiles!" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen 
                                    loading="lazy">
                            </iframe>
                        </div>
                    </div>

                    <!-- Video 4 -->
                    <div class="tiles-video-item">
                        <h4 class="tiles-video-title">10 Simple Magnetic Tile Builds</h4>
                        <div class="tiles-video-wrapper">
                            <iframe src="https://www.youtube.com/embed/f7q95cmS3R4" 
                                    title="10 Simple Magnetic Tile Builds" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen 
                                    loading="lazy">
                            </iframe>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <footer>
        <p class="coin-score">⭐ × 415</p>
        <p>UESF MEMBER<br>SINCE 2013</p>
        <p>🍄 THANK YOU TEACHERS! 🍄</p>
    </footer>

    <script>
        // Frame navigation system with dynamic emojis
        const navButtons = document.querySelectorAll('.nav-btn');
        const frames = document.querySelectorAll('.frame-container');

        navButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();

                // Get target frame and emoji
                const targetFrame = this.getAttribute('data-frame');

                // Remove active class from all buttons and frames
                navButtons.forEach(btn => {
                    btn.classList.remove('active');
                    // Reset all icons to "?"
                    const icon = btn.querySelector('.btn-icon');
                    icon.textContent = '?';
                });

                frames.forEach(frame => frame.classList.remove('active'));

                // Add active class to clicked button and target frame
                this.classList.add('active');

                // Set the emoji for the active button
                const activeIcon = this.querySelector('.btn-icon');
                const emoji = this.getAttribute('data-emoji');
                activeIcon.textContent = emoji;

                document.getElementById(targetFrame).classList.add('active');

                // Smooth scroll to top
                // scrollTo removed
            });
        });
    </script>

    <!-- Teleprompter JavaScript - 6 Steps with Auto-Shrink -->
    <script>
        const lessonSteps = [
            {
                step: 1,
                stepName: "Intro",
                timeDisplay: "20 min (total)",
                instruction: "Emojis & Doodle Pads (SEL Lesson)"
            },
            {
                step: 2,
                stepName: "Reading",
                timeDisplay: "6 min",
                instruction: "Do you have any of these feelings right now?"
            },
            {
                step: 3,
                stepName: "Warm-Up",
                timeDisplay: "2 min",
                instruction: "Doodle anything you want."
            },
            {
                step: 4,
                stepName: "Draw",
                timeDisplay: "5 min",
                instruction: "Draw the emoji that you feel like right now."
            },
            {
                step: 5,
                stepName: "Share",
                timeDisplay: "2 min",
                instruction: "Show a partner and tell what feeling you drew."
            },
            {
                step: 6,
                stepName: "Wrap-Up",
                timeDisplay: "5 min",
                instruction: "All feelings are OK. Ask for help anytime."
            }
        ];

        let currentStepIndex = 0;
        const stepNumberEl = document.getElementById('current-step');
        const stepTitleEl = document.getElementById('step-title-bottom');
        const timerDisplayEl = document.getElementById('timer-display');
        const instructionEl = document.getElementById('instruction-text');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');

        function shrinkTextToFit(element, maxFontSize = 1.5, minFontSize = 0.4) {
            const container = element.parentElement;
            const containerWidth = container.clientWidth - 70;

            if (containerWidth < 100) {
                return;
            }

            let fontSize = maxFontSize;
            element.style.fontSize = fontSize + 'em';

            while (element.scrollWidth > containerWidth && fontSize > minFontSize) {
                fontSize -= 0.05;
                element.style.fontSize = fontSize + 'em';
            }
        }

        function updateDisplay() {
            const step = lessonSteps[currentStepIndex];

            stepNumberEl.textContent = step.step;
            stepTitleEl.textContent = step.stepName;
            timerDisplayEl.textContent = step.timeDisplay;
            instructionEl.textContent = step.instruction;

            shrinkTextToFit(instructionEl);

            prevBtn.disabled = currentStepIndex === 0;
            nextBtn.disabled = currentStepIndex === lessonSteps.length - 1;
        }

        function goToPrevStep() {
            if (currentStepIndex > 0) {
                currentStepIndex--;
                updateDisplay();
            }
        }

        function goToNextStep() {
            if (currentStepIndex < lessonSteps.length - 1) {
                currentStepIndex++;
                updateDisplay();
            }
        }

        prevBtn.addEventListener('click', goToPrevStep);
        nextBtn.addEventListener('click', goToNextStep);

        document.addEventListener('keydown', (e) => {
            const doodleFrame = document.getElementById('doodle');
            if (!doodleFrame || !doodleFrame.classList.contains('active')) return;

            if (e.key === 'ArrowLeft') {
                e.preventDefault();
                goToPrevStep();
            } else if (e.key === 'ArrowRight') {
                e.preventDefault();
                goToNextStep();
            }
        });

        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                shrinkTextToFit(instructionEl);
            }, 100);
        });

        function initializeText() {
            stepNumberEl.textContent = lessonSteps[0].step;
            stepTitleEl.textContent = lessonSteps[0].stepName;
            timerDisplayEl.textContent = lessonSteps[0].timeDisplay;
            instructionEl.textContent = lessonSteps[0].instruction;

            requestAnimationFrame(() => {
                setTimeout(() => {
                    shrinkTextToFit(instructionEl);
                    prevBtn.disabled = true;
                    nextBtn.disabled = lessonSteps.length <= 1;
                }, 50);
            });
        }

        initializeText();
    </script>


    <script>
        // Format Step 1 time to break into 2 lines (portrait only)
        function formatTimerDisplay() {
            const timerDisplay = document.getElementById('timer-display');
            const currentStep = parseInt(document.getElementById('current-step').textContent);

            // Check if portrait mode
            const isPortrait = window.matchMedia('(max-width: 767px) and (orientation: portrait)').matches;

            if (currentStep === 1 && isPortrait) {
                timerDisplay.classList.add('step-1-time');
                const timeText = timerDisplay.textContent.trim();
                if (timeText.includes('(total)') && !timeText.includes('<br>')) {
                    timerDisplay.innerHTML = timeText.replace('(total)', '<br>(total)');
                }
            } else {
                timerDisplay.classList.remove('step-1-time');
                // Remove br tag if exists
                const timeText = timerDisplay.innerHTML;
                if (timeText.includes('<br>')) {
                    timerDisplay.innerHTML = timeText.replace('<br>', ' ');
                }
            }
        }

        // Run on page load
        document.addEventListener('DOMContentLoaded', formatTimerDisplay);

        // Update on navigation
        document.addEventListener('click', function(e) {
            if (e.target.id === 'prev-btn' || e.target.id === 'next-btn') {
                setTimeout(formatTimerDisplay, 50);
            }
        });

        // Update on orientation change
        window.addEventListener('orientationchange', function() {
            setTimeout(formatTimerDisplay, 100);
        });

        window.addEventListener('resize', function() {
            setTimeout(formatTimerDisplay, 100);
        });
    </script>


    <script>
        (function () {
            var cells = document.querySelectorAll('.feeling-cell');
            var isTouch = function () { return window.matchMedia('(hover: none)').matches; };
            cells.forEach(function (cell) {
                cell.addEventListener('click', function (e) {
                    if (!isTouch()) return;
                    e.stopPropagation();
                    var wasActive = this.classList.contains('touch-active');
                    cells.forEach(function (c) { c.classList.remove('touch-active'); });
                    if (!wasActive) this.classList.add('touch-active');
                });
            });
            document.addEventListener('click', function () {
                if (!isTouch()) return;
                cells.forEach(function (c) { c.classList.remove('touch-active'); });
            });
        })();
    </script>

</body>
</html>